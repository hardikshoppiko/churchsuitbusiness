{"version":3,"sources":["../../../../src/app/register/RegisterWizardForm.js","../../../../src/app/register/TermsContent.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/db-utils\";\nimport { openModal } from \"@/lib/modal\";\nimport TermsContent from \"@/app/register/TermsContent\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\n\n/* ================================\n   Helpers\n================================ */\nfunction money(amount) {\n  try {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(Number(amount || 0));\n  } catch {\n    return `$${Number(amount || 0).toFixed(2)}`;\n  }\n}\n\nfunction handleOpenTerms() {\n  openModal({\n    title: \"Terms & Conditions\",\n    size: \"lg\",\n    content: <TermsContent />,\n  });\n}\n\n/* ================================\n   LocalStorage\n================================ */\nconst LS_KEY = process.env.LS_KEY || \"affiliate_register_wizard_v1\";\n\nfunction safeJsonParse(v) {\n  try {\n    return JSON.parse(v);\n  } catch {\n    return null;\n  }\n}\n\nfunction loadWizard() {\n  if (typeof window === \"undefined\") return null;\n  return safeJsonParse(localStorage.getItem(LS_KEY));\n}\n\nfunction saveWizard(data) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(LS_KEY, JSON.stringify(data));\n}\n\nfunction clearWizard() {\n  if (typeof window === \"undefined\") return;\n\n  // main wizard state\n  localStorage.removeItem(LS_KEY);\n\n  // affiliate id cache\n  localStorage.removeItem(\"affiliate_register_id\");\n\n  // IMPORTANT: you have a bad key named \"undefined\" (as per screenshot)\n  localStorage.removeItem(\"undefined\");\n\n  // optional: remove any old keys you might have used earlier\n  Object.keys(localStorage).forEach((k) => {\n    if (k.startsWith(\"affiliate_register_\") || k.startsWith(\"affiliate_registerWizard\")) {\n      localStorage.removeItem(k);\n    }\n  });\n}\n\n/* ================================\n   Premium UI building blocks\n================================ */\nfunction StepPill({ active, done, number, label }) {\n  return (\n    <div className=\"flex items-center gap-3\">\n      <div\n        className={cn(\n          \"flex h-9 w-9 items-center justify-center rounded-full border text-sm font-semibold\",\n          done\n            ? \"bg-primary text-primary-foreground border-primary\"\n            : active\n            ? \"border-primary text-primary\"\n            : \"border-border text-muted-foreground\"\n        )}\n      >\n        {done ? \"✓\" : number}\n      </div>\n      <div className=\"leading-tight\">\n        <div className={cn(\"text-sm font-semibold\", active ? \"text-foreground\" : \"text-muted-foreground\")}>\n          {label}\n        </div>\n        <div className=\"text-xs text-muted-foreground\">\n          Step {number}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Field({ label, required, error, hint, children }) {\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-end justify-between gap-3\">\n        <Label className=\"text-sm font-medium\">\n          {required ? <span className=\"text-red-500\">*</span> : null} {label}\n        </Label>\n        {hint ? <span className=\"text-xs text-muted-foreground\">{hint}</span> : null}\n      </div>\n      {children}\n      {error ? <p className=\"text-sm text-red-600\">{error}</p> : null}\n    </div>\n  );\n}\n\nfunction Select({ value, onChange, disabled, error, children }) {\n  return (\n    <select\n      value={value}\n      onChange={onChange}\n      disabled={disabled}\n      className={cn(\n        \"h-10 w-full rounded-md border bg-background px-3 text-sm outline-none\",\n        \"focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        disabled ? \"opacity-70\" : \"\",\n        error ? \"border-red-500\" : \"border-input\"\n      )}\n    >\n      {children}\n    </select>\n  );\n}\n\nfunction Banner({ variant = \"info\", title, desc }) {\n  const styles =\n    variant === \"error\"\n      ? \"border-red-200 bg-red-50 text-red-800\"\n      : variant === \"success\"\n      ? \"border-green-200 bg-green-50 text-green-800\"\n      : \"border-border bg-muted/40 text-foreground\";\n\n  return (\n    <div className={cn(\"rounded-xl border p-4\", styles)}>\n      {title ? <div className=\"font-semibold\">{title}</div> : null}\n      {desc ? <div className=\"text-sm mt-1 opacity-90\">{desc}</div> : null}\n    </div>\n  );\n}\n\n/* ================================\n   Component\n================================ */\nexport default function RegisterWizardForm({\n  plans = [],\n  countries = [],\n  defaultCountryId = 0,\n  defaultZoneId = 0,\n}) {\n  const router = useRouter();\n\n  const [step, setStep] = useState(1);\n  const [affiliateId, setAffiliateId] = useState(null);\n\n  const [serverMsg, setServerMsg] = useState(null);\n  const [serverErr, setServerErr] = useState(null);\n\n  const [zones, setZones] = useState([]);\n  const [zonesLoading, setZonesLoading] = useState(false);\n\n  const [domainInfo, setDomainInfo] = useState(null);\n  const [domainChecking, setDomainChecking] = useState(false);\n  const [ownDomainChecked, setOwnDomainChecked] = useState(false);\n\n  const [isRestored, setIsRestored] = useState(false);\n  const [persistEnabled, setPersistEnabled] = useState(true);\n\n  const defaultPlanId = useMemo(() => {\n    return plans?.[0]?.affiliate_plan_id ? String(plans[0].affiliate_plan_id) : \"\";\n  }, [plans]);\n\n  const {\n    register,\n    setValue,\n    getValues,\n    watch,\n    trigger,\n    reset,\n    formState: { errors, isSubmitting },\n  } = useForm({\n    defaultValues: {\n      affiliate_plan_id: defaultPlanId,\n      business_name: \"\",\n      website: \"\",\n      is_customer_own_domain: 0,\n      is_domain_available: 0,\n      is_domain_avaibility_checked: 0,\n\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      telephone: \"\",\n\n      address_1: \"\",\n      address_2: \"\",\n      city: \"\",\n      postcode: \"\",\n      country_id: defaultCountryId ? String(defaultCountryId) : \"\",\n      zone_id: defaultZoneId ? String(defaultZoneId) : \"\",\n\n      password: \"\",\n      confirm: \"\",\n      agree_terms: true,\n    },\n  });\n\n  /* ---------- Restore wizard ---------- */\n  useEffect(() => {\n    const saved = loadWizard();\n    if (!saved) {\n      setIsRestored(true);\n      return;\n    }\n\n    if (saved.affiliateId) setAffiliateId(saved.affiliateId);\n    if (saved.step) setStep(saved.step);\n\n    if (saved.values) {\n      reset({\n        ...getValues(),\n        ...saved.values,\n      });\n    }\n\n    setIsRestored(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const allValues = watch();\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    if (!persistEnabled) return;\n\n    saveWizard({\n      step,\n      affiliateId,\n      values: allValues,\n      savedAt: Date.now(),\n    });\n  }, [allValues, step, affiliateId, persistEnabled]);\n\n  const selectedCountryId = watch(\"country_id\");\n  const selectedPlanId = watch(\"affiliate_plan_id\");\n\n  /* ---------- Zones ---------- */\n  async function fetchZones(country_id, keepZoneId) {\n    if (!country_id) {\n      setZones([]);\n      setValue(\"zone_id\", \"\");\n      return;\n    }\n\n    setZonesLoading(true);\n    try {\n      const res = await fetch(`/api/geo/zones?country_id=${country_id}`, { cache: \"no-store\" });\n      const data = await res.json().catch(() => ({}));\n      const list = Array.isArray(data?.zones) ? data.zones : [];\n      setZones(list);\n\n      if (keepZoneId) {\n        const ok = list.some((z) => String(z.zone_id) === String(keepZoneId));\n        if (ok) {\n          setValue(\"zone_id\", String(keepZoneId));\n          return;\n        }\n      }\n\n      setValue(\"zone_id\", \"\");\n    } finally {\n      setZonesLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (defaultCountryId) {\n      fetchZones(String(defaultCountryId), defaultZoneId ? String(defaultZoneId) : \"\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!isRestored) return;\n\n    if (!selectedCountryId) {\n      setZones([]);\n      setValue(\"zone_id\", \"\");\n      return;\n    }\n\n    const keepZoneId = String(getValues(\"zone_id\") || \"\");\n    fetchZones(String(selectedCountryId), keepZoneId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedCountryId, isRestored]);\n\n  /* ---------- AffiliateId persistence ---------- */\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(\"affiliate_register_id\");\n      if (saved && !affiliateId) setAffiliateId(Number(saved));\n    } catch {}\n  }, [affiliateId]);\n\n  function saveAffiliateId(id) {\n    setAffiliateId(Number(id));\n    try {\n      localStorage.setItem(\"affiliate_register_id\", String(id));\n    } catch {}\n  }\n\n  /* ---------- helpers ---------- */\n  function getSelectedPlanInfo() {\n    const pid = Number(getValues(\"affiliate_plan_id\") || 0);\n    return plans.find((p) => Number(p.affiliate_plan_id) === pid) || null;\n  }\n\n  async function checkDomainAvaibilityStatus(domainParam) {\n    const website = String(domainParam ?? getValues(\"website\") ?? \"\").trim();\n    if (!website) return;\n\n    setDomainChecking(true);\n    setOwnDomainChecked(false);\n    setDomainInfo(null);\n\n    setValue(\"is_domain_avaibility_checked\", 1);\n    setValue(\"is_customer_own_domain\", 0);\n\n    try {\n      const res = await fetch(`/api/affiliate/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        cache: \"no-store\",\n        body: JSON.stringify({\n          step: 2,\n          action: \"check_domain\",\n          domain_name: website,\n        }),\n      });\n\n      const data = await res.json().catch(() => ({}));\n\n      setValue(\"is_domain_available\", 1);\n      if (data?.error && data?.domain_not_available) {\n        setValue(\"is_domain_available\", 0);\n      }\n      setDomainInfo(data);\n    } catch {\n      setDomainInfo({ error: \"Domain check failed. Please try again.\" });\n      setValue(\"is_domain_available\", 0);\n    } finally {\n      setDomainChecking(false);\n    }\n  }\n\n  function chooseSuggestedDomain(d) {\n    const domain = String(d || \"\").trim();\n    if (!domain) return;\n\n    setValue(\"website\", domain, { shouldValidate: true, shouldDirty: true });\n    setDomainInfo(null);\n    checkDomainAvaibilityStatus(domain);\n  }\n\n  function onOwnDomainToggle(checked) {\n    const v = !!checked;\n    setOwnDomainChecked(v);\n    setValue(\"is_domain_avaibility_checked\", 1);\n\n    if (v) {\n      setValue(\"is_customer_own_domain\", 1);\n      setValue(\"is_domain_available\", 1);\n      setDomainInfo(null);\n    } else {\n      setValue(\"is_customer_own_domain\", 0);\n    }\n  }\n\n  async function postRegister(payload) {\n    const res = await fetch(`/api/affiliate/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n      cache: \"no-store\",\n    });\n\n    const data = await res.json().catch(() => ({}));\n    return { res, data };\n  }\n\n  /* ---------- Step actions ---------- */\n  async function onNextStep1() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    const ok = await trigger([\"firstname\", \"lastname\", \"email\", \"telephone\"]);\n    if (!ok) return;\n\n    if (affiliateId && Number(affiliateId) > 0) {\n      const payload = {\n        step: 1,\n        affiliate_id: affiliateId,\n        firstname: getValues(\"firstname\"),\n        lastname: getValues(\"lastname\"),\n        email: getValues(\"email\"),\n        telephone: getValues(\"telephone\"),\n      };\n\n      const { res, data } = await postRegister(payload);\n      if (!res.ok) {\n        setServerErr(data?.message || \"Step 1 update failed. Please try again.\");\n        return;\n      }\n\n      setServerMsg(\"Step 1 updated successfully.\");\n      setStep(2);\n      return;\n    }\n\n    const payload = {\n      step: 1,\n      firstname: getValues(\"firstname\"),\n      lastname: getValues(\"lastname\"),\n      email: getValues(\"email\"),\n      telephone: getValues(\"telephone\"),\n    };\n\n    const { res, data } = await postRegister(payload);\n    if (!res.ok || !data?.affiliate_id) {\n      setServerErr(data?.message || \"Step 1 failed. Please try again.\");\n      return;\n    }\n\n    saveAffiliateId(data.affiliate_id);\n    setServerMsg(\"Step 1 saved successfully.\");\n    setStep(2);\n  }\n\n  async function onNextStep2() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    if (!affiliateId) {\n      setServerErr(\"Affiliate ID missing. Please complete Step 1 again.\");\n      setStep(1);\n      return;\n    }\n\n    const ok = await trigger([\"affiliate_plan_id\", \"business_name\", \"website\"]);\n    if (!ok) return;\n\n    const plan = getSelectedPlanInfo();\n\n    const payload = {\n      step: 2,\n      affiliate_id: affiliateId,\n\n      affiliate_plan_id: getValues(\"affiliate_plan_id\"),\n      affiliate_type: getValues(\"affiliate_plan_id\"),\n      store_name: getValues(\"business_name\"),\n      business_name: getValues(\"business_name\"),\n\n      is_customer_own_domain: Number(getValues(\"is_customer_own_domain\") || 0),\n      is_domain_available: Number(getValues(\"is_domain_available\") || 0),\n      is_domain_avaibility_checked: Number(getValues(\"is_domain_avaibility_checked\") || 0),\n\n      website: getValues(\"website\") ? `https://www.${getValues(\"website\")}` : \"\",\n\n      fees: plan?.fees || 0,\n      stripe_plan_id: plan?.stripe_plan_id || \"\",\n      price_schema: plan?.price_schema || \"\",\n      default_markup: plan?.default_markup || 0,\n      retail_price_commission: plan?.retail_price_commission || 0,\n      is_catalog_access: plan?.is_catalog_access || 0,\n\n      from_email: \"\",\n      fax: \"\",\n      company: \"\",\n      stripe_token: \"\",\n      stripe_customer_id: \"\",\n      recurring_billing: \"\",\n      recurring_billing_id: \"\",\n      store_category_type: 0,\n      commission: 0,\n      tax: \"\",\n      payment: \"\",\n      cheque: \"\",\n      paypal: \"\",\n      bank_name: \"\",\n      bank_branch_number: \"\",\n      bank_swift_code: \"\",\n      bank_account_name: \"\",\n      bank_account_number: \"\",\n      ip: \"\",\n      status: 0,\n      newsletter: 1,\n      newsletter_text: 0,\n      affiliate_status_id: 1,\n      approved: 0,\n      stop_automation: 0,\n      user_added: 0,\n      user_modified: 0,\n      is_delete: 0,\n    };\n\n    const { res, data } = await postRegister(payload);\n    if (!res.ok) {\n      setServerErr(data?.message || \"Step 2 failed. Please try again.\");\n      return;\n    }\n\n    setServerMsg(\"Step 2 saved successfully.\");\n    setStep(3);\n  }\n\n  async function onFinishStep3() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    if (!affiliateId) {\n      setServerErr(\"Affiliate ID missing. Please complete Step 1 again.\");\n      setStep(1);\n      return;\n    }\n\n    const ok = await trigger([\n      \"address_1\",\n      \"city\",\n      \"postcode\",\n      \"country_id\",\n      \"zone_id\",\n      \"password\",\n      \"confirm\",\n      \"agree_terms\",\n    ]);\n    if (!ok) return;\n\n    const payload = {\n      step: 3,\n      affiliate_id: affiliateId,\n\n      address_1: getValues(\"address_1\"),\n      address_2: getValues(\"address_2\"),\n      city: getValues(\"city\"),\n      postcode: getValues(\"postcode\"),\n      country_id: getValues(\"country_id\"),\n      zone_id: getValues(\"zone_id\"),\n\n      password: getValues(\"password\"),\n      confirm: getValues(\"confirm\"),\n      agree_terms: getValues(\"agree_terms\"),\n    };\n\n    const { res, data } = await postRegister(payload);\n    if (!res.ok) {\n      setServerErr(data?.message || \"Step 3 failed. Please try again.\");\n      return;\n    }\n\n    setServerMsg(\"Registration completed. Redirecting to payment...\");\n\n    // stop autosave first (so it can't write again)\n    setPersistEnabled(false);\n\n    // clear storage keys\n    clearWizard();\n\n    // also reset state (optional but good)\n    setAffiliateId(null);\n    setStep(1);\n\n    router.push(`/register/payment/${affiliateId}`);\n  }\n\n  /* ---------- derived ---------- */\n  const stepTitle =\n    step === 1 ? \"Personal Information\" : step === 2 ? \"Plan & Business\" : \"Store Address & Password\";\n\n  const websiteValue = String(getValues(\"website\") || \"\").trim();\n  const domainChecked = Number(watch(\"is_domain_avaibility_checked\") || 0) === 1;\n  const domainAvailable = Number(watch(\"is_domain_available\") || 0) === 1;\n  const ownDomain = Number(watch(\"is_customer_own_domain\") || 0) === 1;\n\n  const canProceedStep2 =\n    !!websiteValue && domainChecked && (domainAvailable || ownDomain) && !domainChecking;\n\n  const progress = Math.round((step / 3) * 100);\n\n  const selectedPlan = useMemo(() => {\n    return plans.find((p) => String(p.affiliate_plan_id) === String(selectedPlanId)) || null;\n  }, [plans, selectedPlanId]);\n\n  return (\n    <div className=\"mx-auto w-full max-w-5xl px-4 py-8\">\n      {/* Premium background */}\n      <div className=\"relative overflow-hidden rounded-3xl border bg-background shadow-sm\">\n        <div className=\"pointer-events-none absolute inset-0 opacity-60 [mask-image:radial-gradient(ellipse_at_top,black,transparent_65%)]\">\n          <div className=\"absolute -left-32 -top-32 h-80 w-80 rounded-full bg-primary/20 blur-3xl\" />\n          <div className=\"absolute -right-32 -top-32 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl\" />\n        </div>\n\n        <div className=\"relative grid gap-0 lg:grid-cols-[360px_1fr]\">\n          {/* Left: steps / summary */}\n          <div className=\"border-b p-6 lg:border-b-0 lg:border-r\">\n            <div className=\"space-y-2\">\n              <div className=\"text-sm font-semibold text-primary\">Affiliate Registration</div>\n              <div className=\"text-2xl font-bold tracking-tight\">Create your store</div>\n              <p className=\"text-sm text-muted-foreground\">\n                Complete 3 quick steps to generate your affiliate website.\n              </p>\n            </div>\n\n            <div className=\"mt-6 space-y-4\">\n              <StepPill number={1} label=\"Personal Info\" active={step === 1} done={step > 1} />\n              <StepPill number={2} label=\"Plan & Domain\" active={step === 2} done={step > 2} />\n              <StepPill number={3} label=\"Address & Password\" active={step === 3} done={false} />\n            </div>\n\n            <div className=\"mt-6\">\n              <div className=\"h-2 w-full overflow-hidden rounded-full bg-muted\">\n                <div className=\"h-full bg-primary transition-all\" style={{ width: `${progress}%` }} />\n              </div>\n              <div className=\"mt-2 text-xs text-muted-foreground\">\n                Progress: <span className=\"font-semibold text-foreground\">{progress}%</span>\n                {affiliateId ? (\n                  <span className=\"ml-2\">\n                    • Affiliate ID: <span className=\"font-semibold text-foreground\">{affiliateId}</span>\n                  </span>\n                ) : null}\n              </div>\n            </div>\n\n            {selectedPlan && step >= 2 ? (\n              <div className=\"mt-6 rounded-2xl border bg-muted/30 p-4\">\n                <div className=\"text-xs font-semibold text-muted-foreground\">Selected Plan</div>\n                <div className=\"mt-1 font-semibold\">{selectedPlan.name}</div>\n                <div className=\"text-sm text-muted-foreground\">\n                  {money(selectedPlan.fees)} / month\n                </div>\n              </div>\n            ) : null}\n          </div>\n\n          {/* Right: form */}\n          <div className=\"p-6 lg:p-8\">\n            <Card className=\"border-0 shadow-none bg-transparent\">\n              <CardHeader className=\"px-0 pt-0\">\n                <CardTitle className=\"text-xl\">{stepTitle}</CardTitle>\n                <CardDescription>\n                  Step <span className=\"font-semibold\">{step}</span> of{\" \"}\n                  <span className=\"font-semibold\">3</span>\n                </CardDescription>\n              </CardHeader>\n\n              <CardContent className=\"px-0\">\n                {serverErr ? <Banner variant=\"error\" title=\"Error\" desc={serverErr} /> : null}\n                {serverMsg ? <div className=\"mt-4\"><Banner variant=\"success\" title=\"Success\" desc={serverMsg} /></div> : null}\n\n                <form onSubmit={(e) => e.preventDefault()} className=\"mt-6 space-y-6\">\n                  {/* STEP 1 */}\n                  {step === 1 ? (\n                    <div className=\"space-y-6\">\n                      <div className=\"grid gap-5 md:grid-cols-2\">\n                        <Field label=\"First Name\" required error={errors.firstname?.message}>\n                          <Input\n                            {...register(\"firstname\", {\n                              required: \"First name is required\",\n                              minLength: { value: 1, message: \"Min 1 character\" },\n                              maxLength: { value: 32, message: \"Max 32 characters\" },\n                            })}\n                            className={cn(errors.firstname ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n\n                        <Field label=\"Last Name\" required error={errors.lastname?.message}>\n                          <Input\n                            {...register(\"lastname\", {\n                              required: \"Last name is required\",\n                              minLength: { value: 1, message: \"Min 1 character\" },\n                              maxLength: { value: 32, message: \"Max 32 characters\" },\n                            })}\n                            className={cn(errors.lastname ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n                      </div>\n\n                      <Field label=\"Email\" required error={errors.email?.message}>\n                        <Input\n                          type=\"email\"\n                          {...register(\"email\", {\n                            required: \"Email is required\",\n                            pattern: {\n                              value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/,\n                              message: \"Please enter a valid email address\",\n                            },\n                          })}\n                          className={cn(errors.email ? \"border-red-500\" : \"\")}\n                        />\n                      </Field>\n\n                      <Field label=\"Phone / Mobile\" required error={errors.telephone?.message} hint=\"10 digits\">\n                        <Input\n                          inputMode=\"numeric\"\n                          placeholder=\"10 digit mobile number\"\n                          {...register(\"telephone\", {\n                            required: \"Phone/Mobile is required\",\n                            pattern: { value: /^\\d{10}$/, message: \"Phone/Mobile must be exactly 10 digits\" },\n                          })}\n                          onInput={(e) => {\n                            e.target.value = e.target.value.replace(/\\D/g, \"\").slice(0, 10);\n                          }}\n                          className={cn(errors.telephone ? \"border-red-500\" : \"\")}\n                        />\n                      </Field>\n                    </div>\n                  ) : null}\n\n                  {/* STEP 2 */}\n                  {step === 2 ? (\n                    <div className=\"space-y-6\">\n                      <div className=\"space-y-3\">\n                        <div className=\"text-sm font-semibold\">\n                          <span className=\"text-red-500\">*</span> Select Your Plan\n                        </div>\n\n                        {plans.length === 0 ? (\n                          <p className=\"text-sm text-muted-foreground\">No plans available right now.</p>\n                        ) : (\n                          <div className=\"grid gap-3 md:grid-cols-2\">\n  {plans.map((p) => {\n    const active = String(selectedPlanId) === String(p.affiliate_plan_id);\n\n    return (\n      <label\n        key={p.affiliate_plan_id}\n        className={cn(\n          \"group flex cursor-pointer items-start gap-3 rounded-2xl border p-3 transition\",\n          active ? \"border-primary bg-primary/5\" : \"border-border hover:bg-muted/40\"\n        )}\n      >\n        {/* compact radio */}\n        <input\n          type=\"radio\"\n          value={String(p.affiliate_plan_id)}\n          className=\"mt-1 h-4 w-4\"\n          {...register(\"affiliate_plan_id\", {\n            required: \"Please select a plan\",\n          })}\n        />\n\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"flex items-center justify-between gap-2\">\n            <div className=\"truncate text-sm font-semibold\">{p.name}</div>\n            <div className=\"shrink-0 rounded-full border bg-background px-2 py-0.5 text-xs font-semibold text-muted-foreground\">\n              {money(p.fees)}/mo\n            </div>\n          </div>\n\n          {p.tag_line ? (\n            <div className=\"mt-1 line-clamp-2 text-xs text-muted-foreground\">\n              {p.tag_line}\n            </div>\n          ) : null}\n        </div>\n      </label>\n    );\n  })}\n</div>\n                        )}\n\n                        {errors.affiliate_plan_id ? (\n                          <p className=\"text-sm text-red-600\">{errors.affiliate_plan_id.message}</p>\n                        ) : null}\n                      </div>\n\n                      <Separator />\n\n                      <Field label=\"Business Name\" required error={errors.business_name?.message}>\n                        <Input\n                          {...register(\"business_name\", {\n                            required: \"Business name is required\",\n                            minLength: { value: 3, message: \"Min 3 characters\" },\n                            maxLength: { value: 32, message: \"Max 32 characters\" },\n                          })}\n                          className={cn(errors.business_name ? \"border-red-500\" : \"\")}\n                        />\n                      </Field>\n\n                      <Field label=\"Website Domain\" error={errors.website?.message} hint=\"without https://www\">\n                        <div className=\"flex\">\n                          <div className=\"flex items-center rounded-l-md border border-r-0 bg-muted px-3 text-sm text-muted-foreground\">\n                            https://www.\n                          </div>\n                          <Input\n                            className={cn(\"rounded-l-none\", errors.website ? \"border-red-500\" : \"\")}\n                            placeholder=\"yourdomain.com\"\n                            {...register(\"website\", {\n                              validate: (v) => {\n                                if (!v) return true;\n                                if (/\\s/.test(v)) return \"Website cannot contain spaces\";\n                                if (v.startsWith(\"http://\") || v.startsWith(\"https://\") || v.startsWith(\"www.\")) {\n                                  return \"Do not include https:// or www\";\n                                }\n                                return /^[a-z0-9.-]+\\.[a-z]{2,}$/i.test(v) || \"Enter a valid domain like yourdomain.com\";\n                              },\n                            })}\n                            onBlur={() => {\n                              const v = String(getValues(\"website\") || \"\").trim();\n                              if (!v) return;\n                              const ok = /^[a-z0-9.-]+\\.[a-z]{2,}$/i.test(v) && !/\\s/.test(v);\n                              if (ok) checkDomainAvaibilityStatus(v);\n                            }}\n                          />\n                        </div>\n\n                        <input type=\"hidden\" {...register(\"is_customer_own_domain\")} />\n                        <input type=\"hidden\" {...register(\"is_domain_available\")} />\n                        <input type=\"hidden\" {...register(\"is_domain_avaibility_checked\")} />\n\n                        {domainChecking ? (\n                          <div className=\"mt-2 text-sm text-muted-foreground\">\n                            Checking domain availability...\n                          </div>\n                        ) : null}\n\n                        {domainInfo?.error && domainInfo?.domain_not_available ? (\n                          <div className=\"mt-3 rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\n                            {domainInfo.error}\n                          </div>\n                        ) : null}\n\n                        {domainInfo?.success && domainInfo?.domain_found ? (\n                          <div className=\"mt-3 rounded-xl border border-green-200 bg-green-50 p-3 text-sm text-green-700\">\n                            {domainInfo.domain_found}\n                          </div>\n                        ) : null}\n\n                        {Array.isArray(domainInfo?.domain_suggestions) && domainInfo.domain_suggestions.length > 0 ? (\n                          <div className=\"mt-4 space-y-3\">\n                            <div className=\"flex items-center gap-2\">\n                              <input\n                                id=\"input-business-own-domain\"\n                                type=\"checkbox\"\n                                checked={ownDomainChecked}\n                                onChange={(e) => onOwnDomainToggle(e.target.checked)}\n                                className=\"h-4 w-4 rounded border-border\"\n                              />\n                              <Label htmlFor=\"input-business-own-domain\" className=\"font-semibold\">\n                                I already own this domain\n                              </Label>\n                            </div>\n\n                            <div className=\"text-sm font-semibold\">Suggestions</div>\n                            <div className=\"flex flex-wrap gap-2\">\n                              {domainInfo.domain_suggestions.slice(0, 8).map((d) => (\n                                <button\n                                  type=\"button\"\n                                  key={d}\n                                  onClick={() => chooseSuggestedDomain(d)}\n                                  className=\"rounded-full border border-border bg-background px-3 py-1 text-sm hover:bg-muted\"\n                                >\n                                  {d}\n                                </button>\n                              ))}\n                            </div>\n                          </div>\n                        ) : null}\n\n                        {!canProceedStep2 ? (\n                          <p className=\"mt-3 text-sm text-muted-foreground\">\n                            Please check your domain availability (or confirm you own the domain) to continue.\n                          </p>\n                        ) : null}\n                      </Field>\n                    </div>\n                  ) : null}\n\n                  {/* STEP 3 */}\n                  {step === 3 ? (\n                    <div className=\"space-y-6\">\n                      <Field label=\"Address 1\" required error={errors.address_1?.message}>\n                        <Input\n                          {...register(\"address_1\", { required: \"Address 1 is required\" })}\n                          className={cn(errors.address_1 ? \"border-red-500\" : \"\")}\n                        />\n                      </Field>\n\n                      <Field label=\"Address 2\" error={errors.address_2?.message}>\n                        <Input {...register(\"address_2\")} />\n                      </Field>\n\n                      <div className=\"grid gap-5 md:grid-cols-2\">\n                        <Field label=\"City\" required error={errors.city?.message}>\n                          <Input\n                            {...register(\"city\", { required: \"City is required\" })}\n                            className={cn(errors.city ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n\n                        <Field label=\"Zip Code\" required error={errors.postcode?.message}>\n                          <Input\n                            {...register(\"postcode\", { required: \"Zip code is required\" })}\n                            className={cn(errors.postcode ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n                      </div>\n\n                      <div className=\"grid gap-5 md:grid-cols-2\">\n                        <Field label=\"Country\" required error={errors.country_id?.message}>\n                          <Select\n                            value={String(watch(\"country_id\") || \"\")}\n                            onChange={(e) =>\n                              setValue(\"country_id\", e.target.value, { shouldValidate: true })\n                            }\n                            error={!!errors.country_id}\n                          >\n                            <option value=\"\">--- Please Select ---</option>\n                            {countries.map((c) => (\n                              <option key={c.country_id} value={String(c.country_id)}>\n                                {c.name}\n                              </option>\n                            ))}\n                          </Select>\n                        </Field>\n\n                        <Field label=\"Region / State\" required error={errors.zone_id?.message}>\n                          <Select\n                            value={String(watch(\"zone_id\") || \"\")}\n                            onChange={(e) =>\n                              setValue(\"zone_id\", e.target.value, { shouldValidate: true })\n                            }\n                            disabled={!selectedCountryId || zonesLoading}\n                            error={!!errors.zone_id}\n                          >\n                            <option value=\"\">\n                              {zonesLoading ? \"Loading...\" : \"--- Please Select ---\"}\n                            </option>\n                            {zones.map((z) => (\n                              <option key={z.zone_id} value={String(z.zone_id)}>\n                                {z.name}\n                              </option>\n                            ))}\n                          </Select>\n\n                          {!zonesLoading && selectedCountryId && zones.length === 0 ? (\n                            <p className=\"text-sm text-muted-foreground\">\n                              No regions/states available for selected country.\n                            </p>\n                          ) : null}\n                        </Field>\n                      </div>\n\n                      <Separator />\n\n                      <div className=\"grid gap-5 md:grid-cols-2\">\n                        <Field label=\"Password\" required error={errors.password?.message}>\n                          <Input\n                            type=\"password\"\n                            {...register(\"password\", {\n                              required: \"Password is required\",\n                              minLength: { value: 6, message: \"Minimum 6 characters\" },\n                              maxLength: { value: 20, message: \"Maximum 20 characters\" },\n                            })}\n                            className={cn(errors.password ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n\n                        <Field label=\"Password Confirm\" required error={errors.confirm?.message}>\n                          <Input\n                            type=\"password\"\n                            {...register(\"confirm\", {\n                              required: \"Confirm password is required\",\n                              validate: (v) => v === getValues(\"password\") || \"Passwords do not match\",\n                            })}\n                            className={cn(errors.confirm ? \"border-red-500\" : \"\")}\n                          />\n                        </Field>\n                      </div>\n\n                      <div className=\"rounded-2xl border bg-muted/30 p-4\">\n                        <div className=\"flex items-start gap-3\">\n                          <input\n                            id=\"agree_terms\"\n                            type=\"checkbox\"\n                            checked={!!watch(\"agree_terms\")}\n                            onChange={(e) =>\n                              setValue(\"agree_terms\", e.target.checked, { shouldValidate: true })\n                            }\n                            className=\"mt-1 h-4 w-4 rounded border-border\"\n                          />\n                          <div className=\"space-y-1\">\n                            <Label htmlFor=\"agree_terms\" className=\"leading-5\">\n                              I agree to the{\" \"}\n                              <button\n                                type=\"button\"\n                                className=\"underline underline-offset-4\"\n                                onClick={handleOpenTerms}\n                              >\n                                Terms &amp; Conditions\n                              </button>\n                            </Label>\n                            {errors.agree_terms ? (\n                              <p className=\"text-sm text-red-600\">{errors.agree_terms.message}</p>\n                            ) : null}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n\n                  {/* Footer (premium sticky-like) */}\n                  <div className=\"flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between pt-2\">\n                    <Button\n                      variant=\"outline\"\n                      type=\"button\"\n                      onClick={() => {\n                        setServerErr(null);\n                        setServerMsg(null);\n                        setStep((s) => Math.max(1, s - 1));\n                      }}\n                      disabled={step === 1 || isSubmitting}\n                    >\n                      ← Back\n                    </Button>\n\n                    <div className=\"flex w-full flex-col gap-3 sm:w-auto sm:flex-row\">\n                      {step === 1 ? (\n                        <Button type=\"button\" onClick={onNextStep1} disabled={isSubmitting} className=\"w-full sm:w-auto\">\n                          Continue →\n                        </Button>\n                      ) : null}\n\n                      {step === 2 ? (\n                        <Button\n                          type=\"button\"\n                          onClick={onNextStep2}\n                          disabled={isSubmitting || !canProceedStep2}\n                          className=\"w-full sm:w-auto\"\n                        >\n                          {domainChecking ? \"Checking...\" : \"Continue →\"}\n                        </Button>\n                      ) : null}\n\n                      {step === 3 ? (\n                        <Button type=\"button\" onClick={onFinishStep3} disabled={isSubmitting} className=\"w-full sm:w-auto\">\n                          Finish &amp; Go To Payment →\n                        </Button>\n                      ) : null}\n                    </div>\n                  </div>\n\n                  {/* small helper (optional) */}\n                  <p className=\"text-xs text-muted-foreground\">\n                    Your progress is saved automatically. You can refresh and continue anytime.\n                  </p>\n                </form>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* If you want a plain \"clear wizard\" button for testing */}\n      {/* <div className=\"mt-4\">\n        <Button variant=\"outline\" onClick={() => clearWizard()}>Clear wizard cache</Button>\n      </div> */}\n    </div>\n  );\n}","export default function TermsContent() {\n  return (\n    <div className=\"small\">\n      <p className=\"mb-2\">\n        <b>Terms &amp; Conditions</b>\n      </p>\n      <p className=\"mb-2\">\n        By creating an affiliate store, you agree to follow our program rules, pricing policies,\n        and acceptable use requirements.\n      </p>\n      <ul className=\"mb-2\">\n        <li>No misuse of brand assets.</li>\n        <li>No spam marketing or misleading claims.</li>\n        <li>Payments are subscription-based and must remain active.</li>\n      </ul>\n      <p className=\"mb-0\">\n        For full details, contact support if needed.\n      </p>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}