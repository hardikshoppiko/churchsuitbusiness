module.exports=[21078,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(2920);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},50762,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(72131),f=a.i(95245),g=a.i(49881),h=a.i(33206),i=a.i(69100),j=a.i(21078);function k(){let a=(0,d.useRouter)(),k=(0,d.useSearchParams)(),l=(0,e.useMemo)(()=>k.get("redirect")||"/account",[k]),[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(!1),{register:s,handleSubmit:t,formState:{errors:u}}=(0,f.useForm)({defaultValues:{username:"",password:"",remember:!0}});async function v(b){n(""),p(""),r(!0);try{let c=await fetch("/api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",credentials:"include",body:JSON.stringify({username:String(b.username||"").trim(),password:String(b.password||""),remember:!!b.remember})}),d=await c.json().catch(()=>({}));if(!c.ok)return void n(d?.message||"Login failed. Please try again.");p("Login successful. Redirecting..."),a.push(l)}catch{n("Login failed. Please try again.")}finally{r(!1)}}return(0,b.jsx)(j.Card,{className:"w-full max-w-5xl overflow-hidden rounded-2xl border bg-background shadow-sm py-0",children:(0,b.jsxs)("div",{className:"grid min-h-[560px] grid-cols-1 md:grid-cols-2",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("div",{className:"w-full p-6 sm:p-10",children:[(0,b.jsxs)("div",{className:"mb-7 text-center md:text-left",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Sign in"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Login to manage your affiliate store and subscription."})]}),m?(0,b.jsxs)("div",{className:"mb-5 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:[(0,b.jsx)("div",{className:"font-semibold",children:"Login failed"}),(0,b.jsx)("div",{children:m})]}):null,o?(0,b.jsxs)("div",{className:"mb-5 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[(0,b.jsx)("div",{className:"font-semibold",children:"Success"}),(0,b.jsx)("div",{children:o})]}):null,(0,b.jsxs)("form",{onSubmit:t(v),className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"username",children:"Email or Mobile"}),(0,b.jsx)(h.Input,{id:"username",placeholder:"you@example.com or 10-digit mobile",autoComplete:"username",...s("username",{required:"Email or Mobile is required",validate:a=>(function(a){let b=String(a||"").trim();if(!b)return!1;let c=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(b),d=b.replace(/\D/g,""),e=/^\d{10,15}$/.test(d);return c||e})(a)||"Enter a valid email or mobile number"}),className:u.username?"border-red-500 focus-visible:ring-red-500/30":""}),u.username?(0,b.jsx)("p",{className:"text-sm text-red-600",children:u.username.message}):null]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)(i.Label,{htmlFor:"password",children:"Password"}),(0,b.jsx)(c.default,{href:"/account/forgot-password",className:"text-sm text-muted-foreground text-decoration-none hover:text-foreground",children:"Forgot password?"})]}),(0,b.jsx)(h.Input,{id:"password",type:"password",placeholder:"Enter your password",autoComplete:"current-password",...s("password",{required:"Password is required",minLength:{value:6,message:"Minimum 6 characters"},maxLength:{value:50,message:"Maximum 50 characters"}}),className:u.password?"border-red-500 focus-visible:ring-red-500/30":""}),u.password?(0,b.jsx)("p",{className:"text-sm text-red-600",children:u.password.message}):null]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-input me-1",...s("remember")}),"Remember me"]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Secure login"})]}),(0,b.jsx)(g.Button,{className:"w-full mb-3",type:"submit",disabled:q,children:q?"Signing in...":"Sign In"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-1",children:[(0,b.jsx)("div",{className:"h-px flex-1 bg-border"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"New here?"}),(0,b.jsx)("div",{className:"h-px flex-1 bg-border"})]}),(0,b.jsx)(g.Button,{variant:"outline",className:"w-full",asChild:!0,children:(0,b.jsx)(c.default,{href:"/register",className:"text-decoration-none text-dark",children:"Create an account"})})]})]})}),(0,b.jsxs)("div",{className:"relative hidden md:flex",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0B2B7A] via-[#225ED7] to-[#4F8BFF]"}),(0,b.jsxs)("div",{className:"absolute inset-0 opacity-40",children:[(0,b.jsx)("div",{className:"absolute -top-28 -right-28 h-96 w-96 rounded-full bg-white/20 blur-3xl"}),(0,b.jsx)("div",{className:"absolute -bottom-28 -left-28 h-96 w-96 rounded-full bg-white/15 blur-3xl"})]}),(0,b.jsxs)("div",{className:"relative z-10 flex w-full flex-col justify-between p-10 text-white",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-semibold",children:"Church Suit Business"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold leading-tight",children:"Welcome back."}),(0,b.jsx)("p",{className:"max-w-sm text-white/85",children:"Manage your store, subscription, and orders in one place."})]})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-white/20 bg-white/10 p-5 backdrop-blur",children:[(0,b.jsx)("div",{className:"text-sm font-semibold",children:"Why sign in?"}),(0,b.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-white/90",children:[(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"View your affiliate dashboard"]}),(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"Manage billing & subscription"]}),(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"Track your store progress"]})]})]}),(0,b.jsx)("div",{className:"text-xs text-white/80",children:"By continuing, you agree to our Terms & Privacy Policy."})]})]})]})]})})}a.s(["default",()=>k])}];

//# sourceMappingURL=src_5ef3679e._.js.map