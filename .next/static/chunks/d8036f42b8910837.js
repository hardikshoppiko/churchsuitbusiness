(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18670,e=>{"use strict";var a=e.i(43476);e.i(71645);var s=e.i(99204);function r({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function i({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function t({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function l({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>t])},37011,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(48425),i="horizontal",t=["horizontal","vertical"],n=s.forwardRef((e,s)=>{var n;let{decorative:l,orientation:d=i,...o}=e,c=(n=d,t.includes(n))?d:i;return(0,a.jsx)(r.Primitive.div,{"data-orientation":c,...l?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:s})});n.displayName="Separator",e.s(["Root",()=>n,"Separator",()=>n],86392);var l=e.i(86392),l=l,d=e.i(99204);function o({className:e,orientation:s="horizontal",decorative:r=!0,...i}){return(0,a.jsx)(l.Root,{"data-slot":"separator",decorative:r,orientation:s,className:(0,d.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}e.s(["Separator",()=>o],37011)},5126,e=>{"use strict";var a=e.i(47167),s=e.i(43476),r=e.i(71645),i=e.i(18566),t=e.i(53145),n=e.i(99204),l=e.i(40546);function d(){return(0,s.jsxs)("div",{className:"small",children:[(0,s.jsx)("p",{className:"mb-2",children:(0,s.jsx)("b",{children:"Terms & Conditions"})}),(0,s.jsx)("p",{className:"mb-2",children:"By creating an affiliate store, you agree to follow our program rules, pricing policies, and acceptable use requirements."}),(0,s.jsxs)("ul",{className:"mb-2",children:[(0,s.jsx)("li",{children:"No misuse of brand assets."}),(0,s.jsx)("li",{children:"No spam marketing or misleading claims."}),(0,s.jsx)("li",{children:"Payments are subscription-based and must remain active."})]}),(0,s.jsx)("p",{className:"mb-0",children:"For full details, contact support if needed."})]})}var o=e.i(56902),c=e.i(53269),m=e.i(65930),u=e.i(18670),x=e.i(37011);function f(e){try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(e||0))}catch{return`$${Number(e||0).toFixed(2)}`}}function p(){(0,l.openModal)({title:"Terms & Conditions",size:"lg",content:(0,s.jsx)(d,{})})}let g=a.default.env.LS_KEY||"affiliate_register_wizard_v1";function h({active:e,done:a,number:r,label:i}){return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,n.cn)("flex h-9 w-9 items-center justify-center rounded-full border text-sm font-semibold",a?"bg-primary text-primary-foreground border-primary":e?"border-primary text-primary":"border-border text-muted-foreground"),children:a?"✓":r}),(0,s.jsxs)("div",{className:"leading-tight",children:[(0,s.jsx)("div",{className:(0,n.cn)("text-sm font-semibold",e?"text-foreground":"text-muted-foreground"),children:i}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Step ",r]})]})]})}function b({label:e,required:a,error:r,hint:i,children:t}){return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,s.jsxs)(m.Label,{className:"text-sm font-medium",children:[a?(0,s.jsx)("span",{className:"text-red-500",children:"*"}):null," ",e]}),i?(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:i}):null]}),t,r?(0,s.jsx)("p",{className:"text-sm text-red-600",children:r}):null]})}function _({value:e,onChange:a,disabled:r,error:i,children:t}){return(0,s.jsx)("select",{value:e,onChange:a,disabled:r,className:(0,n.cn)("h-10 w-full rounded-md border bg-background px-3 text-sm outline-none","focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r?"opacity-70":"",i?"border-red-500":"border-input"),children:t})}function v({variant:e="info",title:a,desc:r}){return(0,s.jsxs)("div",{className:(0,n.cn)("rounded-xl border p-4","error"===e?"border-red-200 bg-red-50 text-red-800":"success"===e?"border-green-200 bg-green-50 text-green-800":"border-border bg-muted/40 text-foreground"),children:[a?(0,s.jsx)("div",{className:"font-semibold",children:a}):null,r?(0,s.jsx)("div",{className:"text-sm mt-1 opacity-90",children:r}):null]})}function j({plans:e=[],countries:a=[],defaultCountryId:l=0,defaultZoneId:d=0}){let j=(0,i.useRouter)(),[N,y]=(0,r.useState)(1),[w,S]=(0,r.useState)(null),[k,C]=(0,r.useState)(null),[q,P]=(0,r.useState)(null),[z,I]=(0,r.useState)([]),[M,A]=(0,r.useState)(!1),[L,D]=(0,r.useState)(null),[T,B]=(0,r.useState)(!1),[E,R]=(0,r.useState)(!1),[$,F]=(0,r.useState)(!1),[O,W]=(0,r.useState)(!0),V=(0,r.useMemo)(()=>e?.[0]?.affiliate_plan_id?String(e[0].affiliate_plan_id):"",[e]),{register:J,setValue:U,getValues:Y,watch:K,trigger:H,reset:Z,formState:{errors:G,isSubmitting:Q}}=(0,t.useForm)({defaultValues:{affiliate_plan_id:V,business_name:"",website:"",is_customer_own_domain:0,is_domain_available:0,is_domain_avaibility_checked:0,firstname:"",lastname:"",email:"",telephone:"",address_1:"",address_2:"",city:"",postcode:"",country_id:l?String(l):"",zone_id:d?String(d):"",password:"",confirm:"",agree_terms:!0}});(0,r.useEffect)(()=>{let e=function(){var e=localStorage.getItem(g);try{return JSON.parse(e)}catch{return null}}();e&&(e.affiliateId&&S(e.affiliateId),e.step&&y(e.step),e.values&&Z({...Y(),...e.values})),F(!0)},[]);let X=K();(0,r.useEffect)(()=>{if(O){var e;e={step:N,affiliateId:w,values:X,savedAt:Date.now()},localStorage.setItem(g,JSON.stringify(e))}},[X,N,w,O]);let ee=K("country_id"),ea=K("affiliate_plan_id");async function es(e,a){if(!e){I([]),U("zone_id","");return}A(!0);try{let s=await fetch(`/api/geo/zones?country_id=${e}`,{cache:"no-store"}),r=await s.json().catch(()=>({})),i=Array.isArray(r?.zones)?r.zones:[];if(I(i),a&&i.some(e=>String(e.zone_id)===String(a)))return void U("zone_id",String(a));U("zone_id","")}finally{A(!1)}}async function er(e){let a=String(e??Y("website")??"").trim();if(a){B(!0),R(!1),D(null),U("is_domain_avaibility_checked",1),U("is_customer_own_domain",0);try{let e=await fetch("/api/affiliate/register",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify({step:2,action:"check_domain",domain_name:a})}),s=await e.json().catch(()=>({}));U("is_domain_available",1),s?.error&&s?.domain_not_available&&U("is_domain_available",0),D(s)}catch{D({error:"Domain check failed. Please try again."}),U("is_domain_available",0)}finally{B(!1)}}}async function ei(e){let a=await fetch("/api/affiliate/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"}),s=await a.json().catch(()=>({}));return{res:a,data:s}}async function et(){if(C(null),P(null),!await H(["firstname","lastname","email","telephone"]))return;if(w&&Number(w)>0){let e={step:1,affiliate_id:w,firstname:Y("firstname"),lastname:Y("lastname"),email:Y("email"),telephone:Y("telephone")},{res:a,data:s}=await ei(e);return a.ok?(C("Step 1 updated successfully."),void y(2)):void P(s?.message||"Step 1 update failed. Please try again.")}let e={step:1,firstname:Y("firstname"),lastname:Y("lastname"),email:Y("email"),telephone:Y("telephone")},{res:a,data:s}=await ei(e);if(!a.ok||!s?.affiliate_id)return void P(s?.message||"Step 1 failed. Please try again.");var r=s.affiliate_id;S(Number(r));try{localStorage.setItem("affiliate_register_id",String(r))}catch{}C("Step 1 saved successfully."),y(2)}async function en(){let a;if(C(null),P(null),!w){P("Affiliate ID missing. Please complete Step 1 again."),y(1);return}if(!await H(["affiliate_plan_id","business_name","website"]))return;let s=(a=Number(Y("affiliate_plan_id")||0),e.find(e=>Number(e.affiliate_plan_id)===a)||null),r={step:2,affiliate_id:w,affiliate_plan_id:Y("affiliate_plan_id"),affiliate_type:Y("affiliate_plan_id"),store_name:Y("business_name"),business_name:Y("business_name"),is_customer_own_domain:Number(Y("is_customer_own_domain")||0),is_domain_available:Number(Y("is_domain_available")||0),is_domain_avaibility_checked:Number(Y("is_domain_avaibility_checked")||0),website:Y("website")?`https://www.${Y("website")}`:"",fees:s?.fees||0,stripe_plan_id:s?.stripe_plan_id||"",price_schema:s?.price_schema||"",default_markup:s?.default_markup||0,retail_price_commission:s?.retail_price_commission||0,is_catalog_access:s?.is_catalog_access||0,from_email:"",fax:"",company:"",stripe_token:"",stripe_customer_id:"",recurring_billing:"",recurring_billing_id:"",store_category_type:0,commission:0,tax:"",payment:"",cheque:"",paypal:"",bank_name:"",bank_branch_number:"",bank_swift_code:"",bank_account_name:"",bank_account_number:"",ip:"",status:0,newsletter:1,newsletter_text:0,affiliate_status_id:1,approved:0,stop_automation:0,user_added:0,user_modified:0,is_delete:0},{res:i,data:t}=await ei(r);i.ok?(C("Step 2 saved successfully."),y(3)):P(t?.message||"Step 2 failed. Please try again.")}async function el(){if(C(null),P(null),!w){P("Affiliate ID missing. Please complete Step 1 again."),y(1);return}if(!await H(["address_1","city","postcode","country_id","zone_id","password","confirm","agree_terms"]))return;let e={step:3,affiliate_id:w,address_1:Y("address_1"),address_2:Y("address_2"),city:Y("city"),postcode:Y("postcode"),country_id:Y("country_id"),zone_id:Y("zone_id"),password:Y("password"),confirm:Y("confirm"),agree_terms:Y("agree_terms")},{res:a,data:s}=await ei(e);a.ok?(C("Registration completed. Redirecting to payment..."),W(!1),localStorage.removeItem(g),localStorage.removeItem("affiliate_register_id"),localStorage.removeItem("undefined"),Object.keys(localStorage).forEach(e=>{(e.startsWith("affiliate_register_")||e.startsWith("affiliate_registerWizard"))&&localStorage.removeItem(e)}),S(null),y(1),j.push(`/register/payment/${w}`)):P(s?.message||"Step 3 failed. Please try again.")}(0,r.useEffect)(()=>{l&&es(String(l),d?String(d):"")},[]),(0,r.useEffect)(()=>{if(!$)return;if(!ee){I([]),U("zone_id","");return}let e=String(Y("zone_id")||"");es(String(ee),e)},[ee,$]),(0,r.useEffect)(()=>{try{let e=localStorage.getItem("affiliate_register_id");e&&!w&&S(Number(e))}catch{}},[w]);let ed=1===N?"Personal Information":2===N?"Plan & Business":"Store Address & Password",eo=String(Y("website")||"").trim(),ec=1===Number(K("is_domain_avaibility_checked")||0),em=1===Number(K("is_domain_available")||0),eu=1===Number(K("is_customer_own_domain")||0),ex=!!eo&&ec&&(em||eu)&&!T,ef=Math.round(N/3*100),ep=(0,r.useMemo)(()=>e.find(e=>String(e.affiliate_plan_id)===String(ea))||null,[e,ea]);return(0,s.jsx)("div",{className:"mx-auto w-full max-w-5xl px-4 py-8",children:(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border bg-background shadow-sm",children:[(0,s.jsxs)("div",{className:"pointer-events-none absolute inset-0 opacity-60 [mask-image:radial-gradient(ellipse_at_top,black,transparent_65%)]",children:[(0,s.jsx)("div",{className:"absolute -left-32 -top-32 h-80 w-80 rounded-full bg-primary/20 blur-3xl"}),(0,s.jsx)("div",{className:"absolute -right-32 -top-32 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl"})]}),(0,s.jsxs)("div",{className:"relative grid gap-0 lg:grid-cols-[360px_1fr]",children:[(0,s.jsxs)("div",{className:"border-b p-6 lg:border-b-0 lg:border-r",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-primary",children:"Affiliate Registration"}),(0,s.jsx)("div",{className:"text-2xl font-bold tracking-tight",children:"Create your store"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Complete 3 quick steps to generate your affiliate website."})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsx)(h,{number:1,label:"Personal Info",active:1===N,done:N>1}),(0,s.jsx)(h,{number:2,label:"Plan & Domain",active:2===N,done:N>2}),(0,s.jsx)(h,{number:3,label:"Address & Password",active:3===N,done:!1})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:(0,s.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${ef}%`}})}),(0,s.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Progress: ",(0,s.jsxs)("span",{className:"font-semibold text-foreground",children:[ef,"%"]}),w?(0,s.jsxs)("span",{className:"ml-2",children:["• Affiliate ID: ",(0,s.jsx)("span",{className:"font-semibold text-foreground",children:w})]}):null]})]}),ep&&N>=2?(0,s.jsxs)("div",{className:"mt-6 rounded-2xl border bg-muted/30 p-4",children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-muted-foreground",children:"Selected Plan"}),(0,s.jsx)("div",{className:"mt-1 font-semibold",children:ep.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[f(ep.fees)," / month"]})]}):null]}),(0,s.jsx)("div",{className:"p-6 lg:p-8",children:(0,s.jsxs)(u.Card,{className:"border-0 shadow-none bg-transparent",children:[(0,s.jsxs)(u.CardHeader,{className:"px-0 pt-0",children:[(0,s.jsx)(u.CardTitle,{className:"text-xl",children:ed}),(0,s.jsxs)(u.CardDescription,{children:["Step ",(0,s.jsx)("span",{className:"font-semibold",children:N})," of"," ",(0,s.jsx)("span",{className:"font-semibold",children:"3"})]})]}),(0,s.jsxs)(u.CardContent,{className:"px-0",children:[q?(0,s.jsx)(v,{variant:"error",title:"Error",desc:q}):null,k?(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(v,{variant:"success",title:"Success",desc:k})}):null,(0,s.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"mt-6 space-y-6",children:[1===N?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,s.jsx)(b,{label:"First Name",required:!0,error:G.firstname?.message,children:(0,s.jsx)(c.Input,{...J("firstname",{required:"First name is required",minLength:{value:1,message:"Min 1 character"},maxLength:{value:32,message:"Max 32 characters"}}),className:(0,n.cn)(G.firstname?"border-red-500":"")})}),(0,s.jsx)(b,{label:"Last Name",required:!0,error:G.lastname?.message,children:(0,s.jsx)(c.Input,{...J("lastname",{required:"Last name is required",minLength:{value:1,message:"Min 1 character"},maxLength:{value:32,message:"Max 32 characters"}}),className:(0,n.cn)(G.lastname?"border-red-500":"")})})]}),(0,s.jsx)(b,{label:"Email",required:!0,error:G.email?.message,children:(0,s.jsx)(c.Input,{type:"email",...J("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,message:"Please enter a valid email address"}}),className:(0,n.cn)(G.email?"border-red-500":"")})}),(0,s.jsx)(b,{label:"Phone / Mobile",required:!0,error:G.telephone?.message,hint:"10 digits",children:(0,s.jsx)(c.Input,{inputMode:"numeric",placeholder:"10 digit mobile number",...J("telephone",{required:"Phone/Mobile is required",pattern:{value:/^\d{10}$/,message:"Phone/Mobile must be exactly 10 digits"}}),onInput:e=>{e.target.value=e.target.value.replace(/\D/g,"").slice(0,10)},className:(0,n.cn)(G.telephone?"border-red-500":"")})})]}):null,2===N?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold",children:[(0,s.jsx)("span",{className:"text-red-500",children:"*"})," Select Your Plan"]}),0===e.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No plans available right now."}):(0,s.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(e=>{let a=String(ea)===String(e.affiliate_plan_id);return(0,s.jsxs)("label",{className:(0,n.cn)("group flex cursor-pointer items-start gap-3 rounded-2xl border p-3 transition",a?"border-primary bg-primary/5":"border-border hover:bg-muted/40"),children:[(0,s.jsx)("input",{type:"radio",value:String(e.affiliate_plan_id),className:"mt-1 h-4 w-4",...J("affiliate_plan_id",{required:"Please select a plan"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("div",{className:"truncate text-sm font-semibold",children:e.name}),(0,s.jsxs)("div",{className:"shrink-0 rounded-full border bg-background px-2 py-0.5 text-xs font-semibold text-muted-foreground",children:[f(e.fees),"/mo"]})]}),e.tag_line?(0,s.jsx)("div",{className:"mt-1 line-clamp-2 text-xs text-muted-foreground",children:e.tag_line}):null]})]},e.affiliate_plan_id)})}),G.affiliate_plan_id?(0,s.jsx)("p",{className:"text-sm text-red-600",children:G.affiliate_plan_id.message}):null]}),(0,s.jsx)(x.Separator,{}),(0,s.jsx)(b,{label:"Business Name",required:!0,error:G.business_name?.message,children:(0,s.jsx)(c.Input,{...J("business_name",{required:"Business name is required",minLength:{value:3,message:"Min 3 characters"},maxLength:{value:32,message:"Max 32 characters"}}),className:(0,n.cn)(G.business_name?"border-red-500":"")})}),(0,s.jsxs)(b,{label:"Website Domain",error:G.website?.message,hint:"without https://www",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex items-center rounded-l-md border border-r-0 bg-muted px-3 text-sm text-muted-foreground",children:"https://www."}),(0,s.jsx)(c.Input,{className:(0,n.cn)("rounded-l-none",G.website?"border-red-500":""),placeholder:"yourdomain.com",...J("website",{validate:e=>!e||(/\s/.test(e)?"Website cannot contain spaces":e.startsWith("http://")||e.startsWith("https://")||e.startsWith("www.")?"Do not include https:// or www":/^[a-z0-9.-]+\.[a-z]{2,}$/i.test(e)||"Enter a valid domain like yourdomain.com")}),onBlur:()=>{let e=String(Y("website")||"").trim();e&&/^[a-z0-9.-]+\.[a-z]{2,}$/i.test(e)&&!/\s/.test(e)&&er(e)}})]}),(0,s.jsx)("input",{type:"hidden",...J("is_customer_own_domain")}),(0,s.jsx)("input",{type:"hidden",...J("is_domain_available")}),(0,s.jsx)("input",{type:"hidden",...J("is_domain_avaibility_checked")}),T?(0,s.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:"Checking domain availability..."}):null,L?.error&&L?.domain_not_available?(0,s.jsx)("div",{className:"mt-3 rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:L.error}):null,L?.success&&L?.domain_found?(0,s.jsx)("div",{className:"mt-3 rounded-xl border border-green-200 bg-green-50 p-3 text-sm text-green-700",children:L.domain_found}):null,Array.isArray(L?.domain_suggestions)&&L.domain_suggestions.length>0?(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{id:"input-business-own-domain",type:"checkbox",checked:E,onChange:e=>{let a;R(a=!!e.target.checked),U("is_domain_avaibility_checked",1),a?(U("is_customer_own_domain",1),U("is_domain_available",1),D(null)):U("is_customer_own_domain",0)},className:"h-4 w-4 rounded border-border"}),(0,s.jsx)(m.Label,{htmlFor:"input-business-own-domain",className:"font-semibold",children:"I already own this domain"})]}),(0,s.jsx)("div",{className:"text-sm font-semibold",children:"Suggestions"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:L.domain_suggestions.slice(0,8).map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{let a;(a=String(e||"").trim())&&(U("website",a,{shouldValidate:!0,shouldDirty:!0}),D(null),er(a))},className:"rounded-full border border-border bg-background px-3 py-1 text-sm hover:bg-muted",children:e},e))})]}):null,ex?null:(0,s.jsx)("p",{className:"mt-3 text-sm text-muted-foreground",children:"Please check your domain availability (or confirm you own the domain) to continue."})]})]}):null,3===N?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(b,{label:"Address 1",required:!0,error:G.address_1?.message,children:(0,s.jsx)(c.Input,{...J("address_1",{required:"Address 1 is required"}),className:(0,n.cn)(G.address_1?"border-red-500":"")})}),(0,s.jsx)(b,{label:"Address 2",error:G.address_2?.message,children:(0,s.jsx)(c.Input,{...J("address_2")})}),(0,s.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,s.jsx)(b,{label:"City",required:!0,error:G.city?.message,children:(0,s.jsx)(c.Input,{...J("city",{required:"City is required"}),className:(0,n.cn)(G.city?"border-red-500":"")})}),(0,s.jsx)(b,{label:"Zip Code",required:!0,error:G.postcode?.message,children:(0,s.jsx)(c.Input,{...J("postcode",{required:"Zip code is required"}),className:(0,n.cn)(G.postcode?"border-red-500":"")})})]}),(0,s.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,s.jsx)(b,{label:"Country",required:!0,error:G.country_id?.message,children:(0,s.jsxs)(_,{value:String(K("country_id")||""),onChange:e=>U("country_id",e.target.value,{shouldValidate:!0}),error:!!G.country_id,children:[(0,s.jsx)("option",{value:"",children:"--- Please Select ---"}),a.map(e=>(0,s.jsx)("option",{value:String(e.country_id),children:e.name},e.country_id))]})}),(0,s.jsxs)(b,{label:"Region / State",required:!0,error:G.zone_id?.message,children:[(0,s.jsxs)(_,{value:String(K("zone_id")||""),onChange:e=>U("zone_id",e.target.value,{shouldValidate:!0}),disabled:!ee||M,error:!!G.zone_id,children:[(0,s.jsx)("option",{value:"",children:M?"Loading...":"--- Please Select ---"}),z.map(e=>(0,s.jsx)("option",{value:String(e.zone_id),children:e.name},e.zone_id))]}),!M&&ee&&0===z.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No regions/states available for selected country."}):null]})]}),(0,s.jsx)(x.Separator,{}),(0,s.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,s.jsx)(b,{label:"Password",required:!0,error:G.password?.message,children:(0,s.jsx)(c.Input,{type:"password",...J("password",{required:"Password is required",minLength:{value:6,message:"Minimum 6 characters"},maxLength:{value:20,message:"Maximum 20 characters"}}),className:(0,n.cn)(G.password?"border-red-500":"")})}),(0,s.jsx)(b,{label:"Password Confirm",required:!0,error:G.confirm?.message,children:(0,s.jsx)(c.Input,{type:"password",...J("confirm",{required:"Confirm password is required",validate:e=>e===Y("password")||"Passwords do not match"}),className:(0,n.cn)(G.confirm?"border-red-500":"")})})]}),(0,s.jsx)("div",{className:"rounded-2xl border bg-muted/30 p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("input",{id:"agree_terms",type:"checkbox",checked:!!K("agree_terms"),onChange:e=>U("agree_terms",e.target.checked,{shouldValidate:!0}),className:"mt-1 h-4 w-4 rounded border-border"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)(m.Label,{htmlFor:"agree_terms",className:"leading-5",children:["I agree to the"," ",(0,s.jsx)("button",{type:"button",className:"underline underline-offset-4",onClick:p,children:"Terms & Conditions"})]}),G.agree_terms?(0,s.jsx)("p",{className:"text-sm text-red-600",children:G.agree_terms.message}):null]})]})})]}):null,(0,s.jsxs)("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between pt-2",children:[(0,s.jsx)(o.Button,{variant:"outline",type:"button",onClick:()=>{P(null),C(null),y(e=>Math.max(1,e-1))},disabled:1===N||Q,children:"← Back"}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-3 sm:w-auto sm:flex-row",children:[1===N?(0,s.jsx)(o.Button,{type:"button",onClick:et,disabled:Q,className:"w-full sm:w-auto",children:"Continue →"}):null,2===N?(0,s.jsx)(o.Button,{type:"button",onClick:en,disabled:Q||!ex,className:"w-full sm:w-auto",children:T?"Checking...":"Continue →"}):null,3===N?(0,s.jsx)(o.Button,{type:"button",onClick:el,disabled:Q,className:"w-full sm:w-auto",children:"Finish & Go To Payment →"}):null]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your progress is saved automatically. You can refresh and continue anytime."})]})]})]})})]})]})})}e.s(["default",()=>j],5126)}]);