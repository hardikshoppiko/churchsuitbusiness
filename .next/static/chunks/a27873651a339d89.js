(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18670,e=>{"use strict";var s=e.i(43476);e.i(71645);var a=e.i(99204);function r({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function t({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function l({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function d({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>t,"CardTitle",()=>i])},14026,e=>{"use strict";var s=e.i(43476),a=e.i(22016),r=e.i(18566),t=e.i(71645),i=e.i(53145),l=e.i(56902),d=e.i(53269),n=e.i(65930),c=e.i(18670);function o(){let e=(0,r.useRouter)(),o=(0,r.useSearchParams)(),m=(0,t.useMemo)(()=>o.get("redirect")||"/account",[o]),[u,x]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[g,b]=(0,t.useState)(!1),{register:f,handleSubmit:j,formState:{errors:N}}=(0,i.useForm)({defaultValues:{username:"",password:"",remember:!0}});async function v(s){x(""),p(""),b(!0);try{let a=await fetch("/api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",credentials:"include",body:JSON.stringify({username:String(s.username||"").trim(),password:String(s.password||""),remember:!!s.remember})}),r=await a.json().catch(()=>({}));if(!a.ok)return void x(r?.message||"Login failed. Please try again.");p("Login successful. Redirecting..."),e.push(m)}catch{x("Login failed. Please try again.")}finally{b(!1)}}return(0,s.jsx)(c.Card,{className:"w-full max-w-5xl overflow-hidden rounded-2xl border bg-background shadow-sm py-0",children:(0,s.jsxs)("div",{className:"grid min-h-[560px] grid-cols-1 md:grid-cols-2",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"w-full p-6 sm:p-10",children:[(0,s.jsxs)("div",{className:"mb-7 text-center md:text-left",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Sign in"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Login to manage your affiliate store and subscription."})]}),u?(0,s.jsxs)("div",{className:"mb-5 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Login failed"}),(0,s.jsx)("div",{children:u})]}):null,h?(0,s.jsxs)("div",{className:"mb-5 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Success"}),(0,s.jsx)("div",{children:h})]}):null,(0,s.jsxs)("form",{onSubmit:j(v),className:"space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"username",children:"Email or Mobile"}),(0,s.jsx)(d.Input,{id:"username",placeholder:"you@example.com or 10-digit mobile",autoComplete:"username",...f("username",{required:"Email or Mobile is required",validate:e=>(function(e){let s=String(e||"").trim();if(!s)return!1;let a=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(s),r=s.replace(/\D/g,""),t=/^\d{10,15}$/.test(r);return a||t})(e)||"Enter a valid email or mobile number"}),className:N.username?"border-red-500 focus-visible:ring-red-500/30":""}),N.username?(0,s.jsx)("p",{className:"text-sm text-red-600",children:N.username.message}):null]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsx)(n.Label,{htmlFor:"password",children:"Password"}),(0,s.jsx)(a.default,{href:"/account/forgot-password",className:"text-sm text-muted-foreground text-decoration-none hover:text-foreground",children:"Forgot password?"})]}),(0,s.jsx)(d.Input,{id:"password",type:"password",placeholder:"Enter your password",autoComplete:"current-password",...f("password",{required:"Password is required",minLength:{value:6,message:"Minimum 6 characters"},maxLength:{value:50,message:"Maximum 50 characters"}}),className:N.password?"border-red-500 focus-visible:ring-red-500/30":""}),N.password?(0,s.jsx)("p",{className:"text-sm text-red-600",children:N.password.message}):null]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-input me-1",...f("remember")}),"Remember me"]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Secure login"})]}),(0,s.jsx)(l.Button,{className:"w-full mb-3",type:"submit",disabled:g,children:g?"Signing in...":"Sign In"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-1",children:[(0,s.jsx)("div",{className:"h-px flex-1 bg-border"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"New here?"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-border"})]}),(0,s.jsx)(l.Button,{variant:"outline",className:"w-full",asChild:!0,children:(0,s.jsx)(a.default,{href:"/register",className:"text-decoration-none text-dark",children:"Create an account"})})]})]})}),(0,s.jsxs)("div",{className:"relative hidden md:flex",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0B2B7A] via-[#225ED7] to-[#4F8BFF]"}),(0,s.jsxs)("div",{className:"absolute inset-0 opacity-40",children:[(0,s.jsx)("div",{className:"absolute -top-28 -right-28 h-96 w-96 rounded-full bg-white/20 blur-3xl"}),(0,s.jsx)("div",{className:"absolute -bottom-28 -left-28 h-96 w-96 rounded-full bg-white/15 blur-3xl"})]}),(0,s.jsxs)("div",{className:"relative z-10 flex w-full flex-col justify-between p-10 text-white",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-semibold",children:"Church Suit Business"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold leading-tight",children:"Welcome back."}),(0,s.jsx)("p",{className:"max-w-sm text-white/85",children:"Manage your store, subscription, and orders in one place."})]})]}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-white/20 bg-white/10 p-5 backdrop-blur",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",children:"Why sign in?"}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-white/90",children:[(0,s.jsxs)("li",{className:"flex gap-2",children:[(0,s.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"View your affiliate dashboard"]}),(0,s.jsxs)("li",{className:"flex gap-2",children:[(0,s.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"Manage billing & subscription"]}),(0,s.jsxs)("li",{className:"flex gap-2",children:[(0,s.jsx)("span",{className:"mt-[6px] h-1.5 w-1.5 rounded-full bg-white/90"}),"Track your store progress"]})]})]}),(0,s.jsx)("div",{className:"text-xs text-white/80",children:"By continuing, you agree to our Terms & Privacy Policy."})]})]})]})]})})}e.s(["default",()=>o])}]);