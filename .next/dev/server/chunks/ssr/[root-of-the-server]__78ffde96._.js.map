{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/store/ReduxProvider.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/store/ReduxProvider.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/store/ReduxProvider.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","ignoreList":[0]}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/store/ReduxProvider.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/store/ReduxProvider.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/store/ReduxProvider.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,wCACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/header.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/header.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/header.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/header.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/header.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/header.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiQ,GAC9R,+BACA","ignoreList":[0]}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/footer.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/footer.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/footer.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","ignoreList":[0]}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/footer.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/footer.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/footer.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiQ,GAC9R,+BACA","ignoreList":[0]}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/components/GlobalModal.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/GlobalModal.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/GlobalModal.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","ignoreList":[0]}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/components/GlobalModal.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/GlobalModal.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/GlobalModal.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","ignoreList":[0]}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/lib/db.js"],"sourcesContent":["import mysql from \"mysql2/promise\";\n\nexport const db = mysql.createPool({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: Number(process.env.DB_PORT || 3306),\n  waitForConnections: true,\n  connectionLimit: 10,\n});"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,KAAK,4IAAK,CAAC,UAAU,CAAC;IACjC,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,UAAU,QAAQ,GAAG,CAAC,WAAW;IACjC,UAAU,QAAQ,GAAG,CAAC,OAAO;IAC7B,MAAM,OAAO,QAAQ,GAAG,CAAC,OAAO,IAAI;IACpC,oBAAoB;IACpB,iBAAiB;AACnB"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/lib/settings.js"],"sourcesContent":["import { db } from \"@/lib/db\";\nimport { unstable_cache } from \"next/cache\";\n\n// ---- Core DB loader (always fresh) ----\nasync function loadSettingsFromDB(store_id = 0) {\n  const [rows] = await db.query(\n    \"SELECT code, `key`, value FROM setting WHERE store_id = ?\",\n    [store_id]\n  );\n\n  // group by code -> key -> value (OpenCart-style)\n  const grouped = {};\n  for (const r of rows) {\n    if (!grouped[r.code]) grouped[r.code] = {};\n    grouped[r.code][r.key] = r.value;\n  }\n  return grouped;\n}\n\n/**\n * Production cached wrapper:\n * - caches result per store_id\n * - revalidates every 5 minutes (change as you want)\n */\nfunction getCachedSettings(store_id) {\n  return unstable_cache(\n    async () => loadSettingsFromDB(store_id),\n    [\"site_settings\", String(store_id)], // cache key\n    { revalidate: 300 } // seconds (300 = 5 minutes)\n  )();\n}\n\n/**\n * Public function:\n * - Dev: NO cache (fresh DB every time)\n * - Prod: cached + revalidate\n */\nexport async function getSiteSettings(store_id = 0) {\n  const isDev = process.env.NODE_ENV !== \"production\";\n\n  if (isDev) {\n    return loadSettingsFromDB(store_id); // no cache in dev\n  }\n\n  return getCachedSettings(store_id); // cached in prod\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,0CAA0C;AAC1C,eAAe,mBAAmB,WAAW,CAAC;IAC5C,MAAM,CAAC,KAAK,GAAG,MAAM,sHAAE,CAAC,KAAK,CAC3B,6DACA;QAAC;KAAS;IAGZ,iDAAiD;IACjD,MAAM,UAAU,CAAC;IACjB,KAAK,MAAM,KAAK,KAAM;QACpB,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC;QACzC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,EAAE,KAAK;IAClC;IACA,OAAO;AACT;AAEA;;;;CAIC,GACD,SAAS,kBAAkB,QAAQ;IACjC,OAAO,IAAA,+IAAc,EACnB,UAAY,mBAAmB,WAC/B;QAAC;QAAiB,OAAO;KAAU,EACnC;QAAE,YAAY;IAAI,EAAE,4BAA4B;;AAEpD;AAOO,eAAe,gBAAgB,WAAW,CAAC;IAChD,MAAM,QAAQ,oDAAyB;IAEvC,wCAAW;QACT,OAAO,mBAAmB,WAAW,kBAAkB;IACzD;;;AAGF"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/maintenance/page.js"],"sourcesContent":["export const metadata = {\n  title: \"Maintenance Mode\",\n};\n\nexport default function MaintenancePage() {\n  return (\n    <div className=\"min-vh-100 d-flex align-items-center justify-content-center bg-light\">\n      <div className=\"text-center p-4\">\n        <h1 className=\"mb-3 fw-bold\">We'll be back soon</h1>\n        <p className=\"text-muted mb-4\">\n          Our website is currently under maintenance.\n          <br />\n          Please check back later.\n        </p>\n\n        <div className=\"text-muted small\">\n          © {new Date().getFullYear()} MyAffiliate\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,WAAW;IACtB,OAAO;AACT;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAe;;;;;;8BAC7B,8OAAC;oBAAE,WAAU;;wBAAkB;sCAE7B,8OAAC;;;;;wBAAK;;;;;;;8BAIR,8OAAC;oBAAI,WAAU;;wBAAmB;wBAC7B,IAAI,OAAO,WAAW;wBAAG;;;;;;;;;;;;;;;;;;AAKtC"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/layout.js"],"sourcesContent":["import Script from \"next/script\";\nimport ReduxProvider from \"@/store/ReduxProvider\";\n\nimport \"./globals.css\";\n\nimport Header from \"./header\";\nimport Footer from \"./footer\";\nimport GlobalModal from \"@/components/GlobalModal\";\n\nimport { getSiteSettings } from \"@/lib/settings\";\n\nimport MaintenancePage from \"./maintenance/page\";\n\nexport default async function RootLayout({ children }) {\n  // Load settings FIRST\n  const settingsData = await getSiteSettings(0);\n\n  // OpenCart-style maintenance flag\n  const maintenanceEnabled = settingsData?.config?.config_maintenance === \"1\" || settingsData?.config?.config_maintenance === \"true\";\n\n  // Redux preload\n  const preloadedState = {\n    settings: {\n      loaded: true,\n      store_id: 0,\n      data: settingsData,\n    },\n  };\n\n  // MAINTENANCE MODE\n  if (maintenanceEnabled) {\n    return (\n      <html lang=\"en\">\n        <head>\n          <link rel=\"stylesheet\" href=\"/assets/bootstrap/css/bootstrap.min.css\" />\n          <link rel=\"stylesheet\" href=\"/assets/fontawesome/css/all.min.css\" />\n        </head>\n        <body suppressHydrationWarning><MaintenancePage /></body>\n      </html>\n    );\n  }\n\n  // NORMAL MODE\n  return (\n    <html lang=\"en\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"true\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Varela+Round&display=swap\" rel=\"stylesheet\" />\n\n        <link rel=\"stylesheet\" href=\"/assets/bootstrap/css/bootstrap.min.css\" />\n        <link rel=\"stylesheet\" href=\"/assets/fontawesome/css/all.min.css\" />\n        <link rel=\"stylesheet\" href=\"/assets/stylesheet/stylesheet.css\" />\n        <link rel=\"stylesheet\" href=\"/assets/stylesheet/stylesheet_responsive.css\" />\n      </head>\n\n      <body className=\"d-flex flex-column min-vh-100\" suppressHydrationWarning>\n        <ReduxProvider preloadedState={preloadedState}>\n          <Header />\n          <main className=\"flex-grow-1\">{children}</main>\n          <Footer />\n\n          {/* ✅ Global modal mounted ONCE for the whole app */}\n          <GlobalModal />\n        </ReduxProvider>\n\n        <Script src=\"/assets/bootstrap/js/bootstrap.bundle.min.js\" strategy=\"afterInteractive\" />\n      </body>\n    </html>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAIA;AACA;AACA;AAEA;AAEA;;;;;;;;;;AAEe,eAAe,WAAW,EAAE,QAAQ,EAAE;IACnD,sBAAsB;IACtB,MAAM,eAAe,MAAM,IAAA,yIAAe,EAAC;IAE3C,kCAAkC;IAClC,MAAM,qBAAqB,cAAc,QAAQ,uBAAuB,OAAO,cAAc,QAAQ,uBAAuB;IAE5H,gBAAgB;IAChB,MAAM,iBAAiB;QACrB,UAAU;YACR,QAAQ;YACR,UAAU;YACV,MAAM;QACR;IACF;IAEA,mBAAmB;IACnB,IAAI,oBAAoB;QACtB,qBACE,8OAAC;YAAK,MAAK;;8BACT,8OAAC;;sCACC,8OAAC;4BAAK,KAAI;4BAAa,MAAK;;;;;;sCAC5B,8OAAC;4BAAK,KAAI;4BAAa,MAAK;;;;;;;;;;;;8BAE9B,8OAAC;oBAAK,wBAAwB;8BAAC,cAAA,8OAAC,4IAAe;;;;;;;;;;;;;;;;IAGrD;IAEA,cAAc;IACd,qBACE,8OAAC;QAAK,MAAK;;0BACT,8OAAC;;kCACC,8OAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,8OAAC;wBAAK,KAAI;wBAAa,MAAK;wBAA4B,aAAY;;;;;;kCACpE,8OAAC;wBAAK,MAAK;wBAAqE,KAAI;;;;;;kCAEpF,8OAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,8OAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,8OAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;kCAC5B,8OAAC;wBAAK,KAAI;wBAAa,MAAK;;;;;;;;;;;;0BAG9B,8OAAC;gBAAK,WAAU;gBAAgC,wBAAwB;;kCACtE,8OAAC,wIAAa;wBAAC,gBAAgB;;0CAC7B,8OAAC,+HAAM;;;;;0CACP,8OAAC;gCAAK,WAAU;0CAAe;;;;;;0CAC/B,8OAAC,+HAAM;;;;;0CAGP,8OAAC,2IAAW;;;;;;;;;;;kCAGd,8OAAC,yIAAM;wBAAC,KAAI;wBAA+C,UAAS;;;;;;;;;;;;;;;;;;AAI5E"}}]
}