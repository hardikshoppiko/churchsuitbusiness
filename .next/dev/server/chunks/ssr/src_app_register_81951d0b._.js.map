{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/register/TermsContent.js"],"sourcesContent":["export default function TermsContent() {\n  return (\n    <div className=\"small\">\n      <p className=\"mb-2\">\n        <b>Terms &amp; Conditions</b>\n      </p>\n      <p className=\"mb-2\">\n        By creating an affiliate store, you agree to follow our program rules, pricing policies,\n        and acceptable use requirements.\n      </p>\n      <ul className=\"mb-2\">\n        <li>No misuse of brand assets.</li>\n        <li>No spam marketing or misleading claims.</li>\n        <li>Payments are subscription-based and must remain active.</li>\n      </ul>\n      <p className=\"mb-0\">\n        For full details, contact support if needed.\n      </p>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;0BACX,cAAA,8OAAC;8BAAE;;;;;;;;;;;0BAEL,8OAAC;gBAAE,WAAU;0BAAO;;;;;;0BAIpB,8OAAC;gBAAG,WAAU;;kCACZ,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;kCAAG;;;;;;;;;;;;0BAEN,8OAAC;gBAAE,WAAU;0BAAO;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/register/RegisterWizardForm.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\n\nimport { openModal } from \"@/lib/modal\";\nimport TermsContent from \"@/app/register/TermsContent\";\n\nfunction money(amount) {\n  try {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(Number(amount || 0));\n  } catch {\n    return `$${Number(amount || 0).toFixed(2)}`;\n  }\n}\n\nfunction Row({ label, required, error, children }) {\n  return (\n    <div className=\"row mb-3 align-items-center\">\n      <label className=\"col-sm-4 col-lg-3 col-form-label\">\n        {required ? <span className=\"text-danger\">*</span> : null} {label}\n      </label>\n      <div className=\"col-sm-8 col-lg-9\">\n        {children}\n        {error ? <div className=\"invalid-feedback d-block\">{error}</div> : null}\n      </div>\n    </div>\n  );\n}\n\nfunction handleOpenTerms() {\n  openModal({\n    title: \"Terms & Conditions\",\n    size: \"lg\",\n    content: <TermsContent />,\n  });\n}\n\n/* ================================\n   Wizard LocalStorage helpers\n================================ */\nconst LS_KEY = \"affiliate_register_wizard_v1\";\n\nfunction safeJsonParse(v) {\n  try { return JSON.parse(v); } catch { return null; }\n}\n\nfunction loadWizard() {\n  if (typeof window === \"undefined\") return null;\n  return safeJsonParse(localStorage.getItem(LS_KEY));\n}\n\nfunction saveWizard(data) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(LS_KEY, JSON.stringify(data));\n}\n\nfunction clearWizard() {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(LS_KEY);\n}\n\n/* ================================\n   Component starts here\n================================ */\n\nexport default function RegisterWizardForm({\n  plans = [],\n  countries = [],\n  defaultCountryId = 0,\n  defaultZoneId = 0,\n}) {\n  const router = useRouter();\n\n  const [step, setStep] = useState(1); // 1,2,3\n  const [affiliateId, setAffiliateId] = useState(null);\n\n  const [serverMsg, setServerMsg] = useState(null);\n  const [serverErr, setServerErr] = useState(null);\n\n  const [zones, setZones] = useState([]);\n  const [zonesLoading, setZonesLoading] = useState(false);\n\n  const [domainInfo, setDomainInfo] = useState(null);\n  const [domainChecking, setDomainChecking] = useState(false);\n  const [ownDomainChecked, setOwnDomainChecked] = useState(false);\n\n  const [isRestored, setIsRestored] = useState(false);\n\n  const defaultPlanId = useMemo(() => {\n    return plans?.[0]?.affiliate_plan_id ? String(plans[0].affiliate_plan_id) : \"\";\n  }, [plans]);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    getValues,\n    watch,\n    trigger,\n    reset,\n    formState: { errors, isSubmitting },\n  } = useForm({\n    defaultValues: {\n      // step 2\n      affiliate_plan_id: defaultPlanId,\n      business_name: \"\",\n      website: \"\",\n      is_customer_own_domain: 0,\n      is_domain_available: 0,\n      is_domain_avaibility_checked: 0,\n\n      // step 1\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      telephone: \"\",\n\n      // step 3\n      address_1: \"\",\n      address_2: \"\",\n      city: \"\",\n      postcode: \"\",\n      country_id: defaultCountryId ? String(defaultCountryId) : \"\",\n      zone_id: defaultZoneId ? String(defaultZoneId) : \"\",\n\n      password: \"\",\n      confirm: \"\",\n      agree_terms: true,\n    },\n  });\n\n  useEffect(() => {\n    const saved = loadWizard();\n    if (!saved) {\n      setIsRestored(true);\n      return;\n    }\n\n    if (saved.affiliateId) setAffiliateId(saved.affiliateId);\n    if (saved.step) setStep(saved.step);\n\n    if (saved.values) {\n      reset({\n        ...getValues(),\n        ...saved.values,\n      });\n    }\n\n    setIsRestored(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const allValues = watch();\n\n  useEffect(() => {\n    // prevent saving before initial hydration\n    if (typeof window === \"undefined\") return;\n\n    saveWizard({\n      step,\n      affiliateId,\n      values: allValues,\n      savedAt: Date.now(),\n    });\n  }, [allValues, step, affiliateId]);\n\n  const selectedCountryId = watch(\"country_id\");\n  const selectedPlanId = watch(\"affiliate_plan_id\");\n\n  // ---------- Zones loader ----------\n  async function fetchZones(country_id, keepZoneId) {\n    if (!country_id) {\n      setZones([]);\n      setValue(\"zone_id\", \"\");\n      return;\n    }\n\n    setZonesLoading(true);\n    try {\n      const res = await fetch(`/api/geo/zones?country_id=${country_id}`, {\n        cache: \"no-store\",\n      });\n\n      const data = await res.json().catch(() => ({}));\n      const list = Array.isArray(data?.zones) ? data.zones : [];\n      setZones(list);\n\n      if (keepZoneId) {\n        const ok = list.some((z) => String(z.zone_id) === String(keepZoneId));\n        if (ok) {\n          setValue(\"zone_id\", String(keepZoneId));\n          return;\n        }\n      }\n\n      // only clear if no valid keepZoneId\n      setValue(\"zone_id\", \"\");\n    } finally {\n      setZonesLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    // load zones for defaults (only helpful for step 3)\n    if (defaultCountryId) {\n      fetchZones(String(defaultCountryId), defaultZoneId ? String(defaultZoneId) : \"\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!isRestored) return;\n\n    if (!selectedCountryId) {\n      setZones([]);\n      setValue(\"zone_id\", \"\");\n      return;\n    }\n\n    // ✅ keep the zone_id that is already in the form (from localStorage after refresh)\n    const keepZoneId = String(getValues(\"zone_id\") || \"\");\n    fetchZones(String(selectedCountryId), keepZoneId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedCountryId, isRestored]);\n\n  // ---------- Persist affiliateId (optional but useful) ----------\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(\"affiliate_register_id\");\n      if (saved && !affiliateId) setAffiliateId(Number(saved));\n    } catch {}\n  }, [affiliateId]);\n\n  function saveAffiliateId(id) {\n    setAffiliateId(Number(id));\n    try {\n      localStorage.setItem(\"affiliate_register_id\", String(id));\n    } catch {}\n  }\n\n  function clearAffiliateIdCache() {\n    try {\n      localStorage.removeItem(\"affiliate_register_id\");\n    } catch {}\n  }\n\n  // ---------- Helpers ----------\n  function getSelectedPlanInfo() {\n    const pid = Number(getValues(\"affiliate_plan_id\") || 0);\n    return plans.find((p) => Number(p.affiliate_plan_id) === pid) || null;\n  }\n\n  async function checkDomainAvaibilityStatus(domainParam) {\n    const website = String(domainParam ?? getValues(\"website\") ?? \"\").trim();\n    if (!website) return;\n\n    // reset flags each time user checks\n    setDomainChecking(true);\n    setOwnDomainChecked(false);\n    setDomainInfo(null);\n\n    // mark \"checked\" immediately (like PHP does)\n    setValue(\"is_domain_avaibility_checked\", 1);\n    setValue(\"is_customer_own_domain\", 0);\n\n    try {\n      const res = await fetch(`/api/affiliate/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        cache: \"no-store\",\n        body: JSON.stringify({\n          step: 2,\n          action: \"check_domain\",\n          domain_name: website,\n        }),\n      });\n\n      const data = await res.json().catch(() => ({}));\n\n      // default like PHP\n      setValue(\"is_domain_available\", 1);\n\n      // if error + domain not available → mark unavailable\n      if (data?.error && data?.domain_not_available) {\n        setValue(\"is_domain_available\", 0);\n      }\n\n      setDomainInfo(data);\n    } catch (e) {\n      setDomainInfo({ error: \"Domain check failed. Please try again.\" });\n      setValue(\"is_domain_available\", 0);\n    } finally {\n      setDomainChecking(false);\n    }\n  }\n\n  // click suggestion\n  function chooseSuggestedDomain(d) {\n    const domain = String(d || \"\").trim();\n    if (!domain) return;\n\n    setValue(\"website\", domain, { shouldValidate: true, shouldDirty: true });\n    setDomainInfo(null);\n\n    // IMPORTANT: call checker with the domain itself (not reading old getValues)\n    checkDomainAvaibilityStatus(domain);\n  }\n\n  // own domain checkbox\n  function onOwnDomainToggle(checked) {\n    const v = !!checked;\n    setOwnDomainChecked(v);\n\n    setValue(\"is_domain_avaibility_checked\", 1);\n\n    if (v) {\n      setValue(\"is_customer_own_domain\", 1);\n      setValue(\"is_domain_available\", 1);\n\n      // mimic PHP: remove suggestions/messages\n      setDomainInfo(null);\n    } else {\n      setValue(\"is_customer_own_domain\", 0);\n    }\n  }\n\n  async function postRegister(payload) {\n    const res = await fetch(`/api/affiliate/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n      cache: \"no-store\",\n    });\n\n    const data = await res.json().catch(() => ({}));\n    return { res, data };\n  }\n\n  // ---------- Step Actions ----------\n  async function onNextStep1() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    // validate step1 fields\n    const ok = await trigger([\"firstname\", \"lastname\", \"email\", \"telephone\"]);\n    if (!ok) return;\n\n    // ✅ If affiliate already created, DO NOT re-create\n    if (affiliateId && Number(affiliateId) > 0) {\n      // Optional: if you want to update step1 fields on existing record\n      const payload = {\n        step: 1,\n        affiliate_id: affiliateId,\n        firstname: getValues(\"firstname\"),\n        lastname: getValues(\"lastname\"),\n        email: getValues(\"email\"),\n        telephone: getValues(\"telephone\"),\n      };\n\n      const { res, data } = await postRegister(payload);\n\n      if (!res.ok) {\n        setServerErr(data?.message || \"Step 1 update failed. Please try again.\");\n        return;\n      }\n\n      setServerMsg(\"Step 1 updated successfully.\");\n      setStep(2);\n      return;\n    }\n\n    // ✅ First time only: create new affiliate (insert)\n    const payload = {\n      step: 1,\n      firstname: getValues(\"firstname\"),\n      lastname: getValues(\"lastname\"),\n      email: getValues(\"email\"),\n      telephone: getValues(\"telephone\"),\n    };\n\n    const { res, data } = await postRegister(payload);\n\n    if (!res.ok || !data?.affiliate_id) {\n      setServerErr(data?.message || \"Step 1 failed. Please try again.\");\n      return;\n    }\n\n    saveAffiliateId(data.affiliate_id);\n    setServerMsg(\"Step 1 saved successfully.\");\n    setStep(2);\n  }\n\n  async function onNextStep2() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    if (!affiliateId) {\n      setServerErr(\"Affiliate ID missing. Please complete Step 1 again.\");\n      setStep(1);\n      return;\n    }\n\n    const ok = await trigger([\"affiliate_plan_id\", \"business_name\", \"website\"]);\n    if (!ok) return;\n\n    const plan = getSelectedPlanInfo();\n\n    // Build the same payload style you already use\n    const payload = {\n      step: 2,\n      affiliate_id: affiliateId,\n\n      affiliate_plan_id: getValues(\"affiliate_plan_id\"),\n      affiliate_type: getValues(\"affiliate_plan_id\"),\n      store_name: getValues(\"business_name\"),\n      business_name: getValues(\"business_name\"),\n      is_customer_own_domain: Number(getValues(\"is_customer_own_domain\") || 0),\n      is_domain_available: Number(getValues(\"is_domain_available\") || 0),\n      is_domain_avaibility_checked: Number(getValues(\"is_domain_avaibility_checked\") || 0),\n\n      // vanity url: https://www. + domain\n      website: getValues(\"website\") ? `https://www.${getValues(\"website\")}` : \"\",\n\n      // plan-related data you pass today\n      fees: plan?.fees || 0,\n      stripe_plan_id: plan?.stripe_plan_id || \"\",\n      price_schema: plan?.price_schema || \"\",\n      default_markup: plan?.default_markup || 0,\n      retail_price_commission: plan?.retail_price_commission || 0,\n      is_catalog_access: plan?.is_catalog_access || 0,\n\n      // keep same defaults\n      from_email: \"\",\n      fax: \"\",\n      company: \"\",\n      stripe_token: \"\",\n      stripe_customer_id: \"\",\n      recurring_billing: \"\",\n      recurring_billing_id: \"\",\n      store_category_type: 0,\n      commission: 0,\n      tax: \"\",\n      payment: \"\",\n      cheque: \"\",\n      paypal: \"\",\n      bank_name: \"\",\n      bank_branch_number: \"\",\n      bank_swift_code: \"\",\n      bank_account_name: \"\",\n      bank_account_number: \"\",\n      ip: \"\",\n      status: 0,\n      newsletter: 1,\n      newsletter_text: 0,\n      affiliate_status_id: 1,\n      approved: 0,\n      stop_automation: 0,\n      user_added: 0,\n      user_modified: 0,\n      is_delete: 0,\n    };\n\n    const { res, data } = await postRegister(payload);\n\n    if (!res.ok) {\n      setServerErr(data?.message || \"Step 2 failed. Please try again.\");\n      return;\n    }\n\n    setServerMsg(\"Step 2 saved successfully.\");\n    setStep(3);\n  }\n\n  async function onFinishStep3() {\n    setServerMsg(null);\n    setServerErr(null);\n\n    if (!affiliateId) {\n      setServerErr(\"Affiliate ID missing. Please complete Step 1 again.\");\n      setStep(1);\n      return;\n    }\n\n    const ok = await trigger([\n      \"address_1\",\n      \"city\",\n      \"postcode\",\n      \"country_id\",\n      \"zone_id\",\n      \"password\",\n      \"confirm\",\n      \"agree_terms\",\n    ]);\n    if (!ok) return;\n\n    const payload = {\n      step: 3,\n      affiliate_id: affiliateId,\n\n      address_1: getValues(\"address_1\"),\n      address_2: getValues(\"address_2\"),\n      city: getValues(\"city\"),\n      postcode: getValues(\"postcode\"),\n      country_id: getValues(\"country_id\"),\n      zone_id: getValues(\"zone_id\"),\n\n      password: getValues(\"password\"),\n      confirm: getValues(\"confirm\"),\n      agree_terms: getValues(\"agree_terms\"),\n    };\n\n    const { res, data } = await postRegister(payload);\n\n    if (!res.ok) {\n      setServerErr(data?.message || \"Step 3 failed. Please try again.\");\n      return;\n    }\n\n    setServerMsg(\"Registration completed. Redirecting to payment...\");\n    // clearAffiliateIdCache();\n\n    clearWizard();\n    router.push(`/register/payment/${affiliateId}`);\n  }\n\n  // ---------- UI ----------\n  const stepTitle = step === 1 ? \"Personal Information\" : step === 2 ? \"Plan & Business\" : \"Store Address & Password\";\n\n  // Check if can proceed to step 2\n  const websiteValue = String(getValues(\"website\") || \"\").trim();\n\n  const domainChecked = Number(watch(\"is_domain_avaibility_checked\") || 0) === 1;\n  const domainAvailable = Number(watch(\"is_domain_available\") || 0) === 1;\n  const ownDomain = Number(watch(\"is_customer_own_domain\") || 0) === 1;\n\n  // ✅ Only hidden fields decide the button enable/disable\n  const canProceedStep2 = !!websiteValue && domainChecked && (domainAvailable || ownDomain) && !domainChecking;\n\n  /* END ADD */\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header bg-white\">\n        <div className=\"d-flex align-items-center justify-content-between flex-wrap gap-2\">\n          <div className=\"fw-bold\">{stepTitle}</div>\n\n          <div className=\"small text-muted\">\n            Step <strong>{step}</strong> of <strong>3</strong>\n            {affiliateId ? (\n              <span className=\"ms-2\">\n                | Affiliate ID: <strong>{affiliateId}</strong>\n              </span>\n            ) : null}\n          </div>\n        </div>\n\n        {/* simple progress */}\n        <div className=\"progress mt-3\" style={{ height: 8 }}>\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            style={{ width: `${(step / 3) * 100}%` }}\n            aria-valuenow={(step / 3) * 100}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n          />\n        </div>\n      </div>\n\n      <div className=\"card-body\">\n        {serverErr ? <div className=\"alert alert-danger\">{serverErr}</div> : null}\n        {serverMsg ? <div className=\"alert alert-success\">{serverMsg}</div> : null}\n\n        {/* We keep one form for layout, but we manually call step handlers */}\n        <form onSubmit={(e) => e.preventDefault()}>\n          {/* ===================== */}\n          {/* STEP 1 */}\n          {/* ===================== */}\n          {step === 1 ? (\n            <>\n              <Row label=\"First Name\" required error={errors.firstname?.message}>\n                <input\n                  className={`form-control ${errors.firstname ? \"is-invalid\" : \"\"}`}\n                  {...register(\"firstname\", {\n                    required: \"First name is required\",\n                    minLength: { value: 1, message: \"Min 1 character\" },\n                    maxLength: { value: 32, message: \"Max 32 characters\" },\n                  })}\n                />\n              </Row>\n\n              <Row label=\"Last Name\" required error={errors.lastname?.message}>\n                <input\n                  className={`form-control ${errors.lastname ? \"is-invalid\" : \"\"}`}\n                  {...register(\"lastname\", {\n                    required: \"Last name is required\",\n                    minLength: { value: 1, message: \"Min 1 character\" },\n                    maxLength: { value: 32, message: \"Max 32 characters\" },\n                  })}\n                />\n              </Row>\n\n              <Row label=\"Email\" required error={errors.email?.message}>\n                <input\n                  type=\"email\"\n                  className={`form-control ${errors.email ? \"is-invalid\" : \"\"}`}\n                  {...register(\"email\", {\n                    required: \"Email is required\",\n                    pattern: {\n                      value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/,\n                      message: \"Please enter a valid email address\",\n                    },\n                  })}\n                />\n              </Row>\n\n              <Row label=\"Phone / Mobile\" required error={errors.telephone?.message}>\n                <input\n                  inputMode=\"numeric\"\n                  placeholder=\"10 digit mobile number\"\n                  className={`form-control ${errors.telephone ? \"is-invalid\" : \"\"}`}\n                  {...register(\"telephone\", {\n                    required: \"Phone/Mobile is required\",\n                    pattern: {\n                      value: /^\\d{10}$/,\n                      message: \"Phone/Mobile must be exactly 10 digits\",\n                    },\n                  })}\n                  onInput={(e) => {\n                    e.target.value = e.target.value.replace(/\\D/g, \"\").slice(0, 10);\n                  }}\n                />\n              </Row>\n            </>\n          ) : null}\n\n          {/* ===================== */}\n          {/* STEP 2 */}\n          {/* ===================== */}\n          {step === 2 ? (\n            <>\n              <div className=\"mb-3\">\n                <div className=\"fw-bold mb-2\">\n                  <span className=\"text-danger me-1\">*</span>Select Your Plan\n                </div>\n\n                {plans.length === 0 ? (\n                  <div className=\"text-muted\">No plans available right now.</div>\n                ) : (\n                  <div className=\"d-flex flex-column gap-2\">\n                    {plans.map((p) => (\n                      <label\n                        key={p.affiliate_plan_id}\n                        className=\"d-flex align-items-start gap-2 border rounded p-3 plan-row\"\n                      >\n                        <input\n                          type=\"radio\"\n                          className=\"form-check-input mt-1\"\n                          value={String(p.affiliate_plan_id)}\n                          {...register(\"affiliate_plan_id\", {\n                            required: \"Please select a plan\",\n                          })}\n                        />\n\n                        <div className=\"flex-grow-1\">\n                          <div className=\"fw-semibold\">\n                            {p.name}{\" \"}\n                            <span className=\"text-muted\">\n                              ({money(p.fees)} / Month)\n                            </span>\n                          </div>\n                          {p.tag_line ? (\n                            <div className=\"text-muted small\">{p.tag_line}</div>\n                          ) : null}\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                )}\n\n                {errors.affiliate_plan_id ? (\n                  <div className=\"text-danger small mt-2\">\n                    {errors.affiliate_plan_id.message}\n                  </div>\n                ) : null}\n              </div>\n\n              <hr />\n\n              <Row label=\"Business Name\" required error={errors.business_name?.message}>\n                <input\n                  className={`form-control ${errors.business_name ? \"is-invalid\" : \"\"}`}\n                  {...register(\"business_name\", {\n                    required: \"Business name is required\",\n                    minLength: { value: 3, message: \"Min 3 characters\" },\n                    maxLength: { value: 32, message: \"Max 32 characters\" },\n                  })}\n                />\n              </Row>\n\n              <Row label=\"Website\" error={errors.website?.message}>\n                <div id=\"input-website-section\">\n                  <div className=\"input-group\">\n                    <span className=\"input-group-text\">https://www.</span>\n                    <input\n                      className={`form-control ${errors.website ? \"is-invalid\" : \"\"}`}\n                      placeholder=\"yourdomain.com\"\n                      {...register(\"website\", {\n                        validate: (v) => {\n                          if (!v) return true;\n                          if (/\\s/.test(v)) return \"Website cannot contain spaces\";\n                          if (v.startsWith(\"http://\") || v.startsWith(\"https://\") || v.startsWith(\"www.\")) {\n                            return \"Do not include https:// or www\";\n                          }\n                          return /^[a-z0-9.-]+\\.[a-z]{2,}$/i.test(v) || \"Enter a valid domain like yourdomain.com\";\n                        },\n                      })}\n                      onBlur={() => {\n                        const v = String(getValues(\"website\") || \"\").trim();\n                        if (!v) return;\n\n                        // only hit API if looks like a domain\n                        const ok = /^[a-z0-9.-]+\\.[a-z]{2,}$/i.test(v) && !/\\s/.test(v);\n                        if (ok) checkDomainAvaibilityStatus(v);\n                      }}\n                    />\n                  </div>\n\n                  {/* hidden fields (same as PHP) */}\n                  <input type=\"hidden\" {...register(\"is_customer_own_domain\")} />\n                  <input type=\"hidden\" {...register(\"is_domain_available\")} />\n                  <input type=\"hidden\" {...register(\"is_domain_avaibility_checked\")} />\n                  \n                  {domainChecking ? (\n                    <div className=\"small text-muted mt-2\">\n                      <i className=\"fa fa-spinner fa-spin me-1\"></i> Please wait… checking domain availability.\n                    </div>\n                  ) : null}\n\n                  {/* Result messages like PHP */}\n                  {domainInfo?.error && domainInfo?.domain_not_available ? (\n                    <div className=\"mt-2\">\n                      <div className=\"text-danger fw-semibold\">\n                        <i className=\"bi bi-exclamation-triangle me-1\" />\n                        {domainInfo.error}\n                      </div>\n                    </div>\n                  ) : null}\n\n                  {domainInfo?.success && domainInfo?.domain_found ? (\n                    <div className=\"mt-2 text-success fw-semibold\">\n                      <i className=\"bi bi-check-circle me-1\" />\n                      {domainInfo.domain_found}\n                    </div>\n                  ) : null}\n\n                  {/* suggestions + own-domain checkbox */}\n                  {Array.isArray(domainInfo?.domain_suggestions) && domainInfo.domain_suggestions.length > 0 ? (\n                    <div className=\"mt-3\">\n                      <div className=\"form-check mb-2\">\n                        <input\n                          id=\"input-business-own-domain\"\n                          className=\"form-check-input\"\n                          type=\"checkbox\"\n                          onChange={(e) => onOwnDomainToggle(e.target.checked)}\n                        />\n                        <label className=\"form-check-label fw-semibold\" htmlFor=\"input-business-own-domain\">\n                          Do You Own Above Domain Name?\n                        </label>\n                      </div>\n\n                      <div className=\"fw-semibold mb-2\">Available Domains</div>\n                      <div className=\"d-flex flex-wrap gap-2\">\n                        {domainInfo.domain_suggestions.slice(0, 6).map((d) => (\n                          <button\n                            type=\"button\"\n                            key={d}\n                            className=\"btn btn-link p-0 text-decoration-underline\"\n                            onClick={() => chooseSuggestedDomain(d)}\n                          >\n                            {d}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </Row>\n\n              <div className=\"alert alert-info mb-0\">\n                <div className=\"fw-semibold\">Selected Plan</div>\n                <div className=\"small\">\n                  {(() => {\n                    const plan = plans.find(\n                      (p) => String(p.affiliate_plan_id) === String(selectedPlanId)\n                    );\n                    if (!plan) return \"No plan selected\";\n                    return (\n                      <>\n                        {plan.name} — <strong>{money(plan.fees)}</strong> / month\n                      </>\n                    );\n                  })()}\n                </div>\n              </div>\n\n              {/* Domain warning */}\n              {!canProceedStep2 ? (\n                <div className=\"text-muted small mt-2\">\n                  Please check your domain availability (or confirm you own the domain) to continue.\n                </div>\n              ) : null}\n            </>\n          ) : null}\n\n          {/* ===================== */}\n          {/* STEP 3 */}\n          {/* ===================== */}\n          {step === 3 ? (\n            <>\n              <Row label=\"Address 1\" required error={errors.address_1?.message}>\n                <input\n                  className={`form-control ${errors.address_1 ? \"is-invalid\" : \"\"}`}\n                  {...register(\"address_1\", { required: \"Address 1 is required\" })}\n                />\n              </Row>\n\n              <Row label=\"Address 2\" error={errors.address_2?.message}>\n                <input className=\"form-control\" {...register(\"address_2\")} />\n              </Row>\n\n              <Row label=\"City\" required error={errors.city?.message}>\n                <input\n                  className={`form-control ${errors.city ? \"is-invalid\" : \"\"}`}\n                  {...register(\"city\", { required: \"City is required\" })}\n                />\n              </Row>\n\n              <Row label=\"Zip Code\" required error={errors.postcode?.message}>\n                <input\n                  className={`form-control ${errors.postcode ? \"is-invalid\" : \"\"}`}\n                  {...register(\"postcode\", { required: \"Zip code is required\" })}\n                />\n              </Row>\n\n              <Row label=\"Country\" required error={errors.country_id?.message}>\n                <select\n                  className={`form-select ${errors.country_id ? \"is-invalid\" : \"\"}`}\n                  {...register(\"country_id\", { required: \"Country is required\" })}\n                >\n                  <option value=\"\">--- Please Select ---</option>\n                  {countries.map((c) => (\n                    <option key={c.country_id} value={String(c.country_id)}>\n                      {c.name}\n                    </option>\n                  ))}\n                </select>\n              </Row>\n\n              <Row label=\"Region / State\" required error={errors.zone_id?.message}>\n                <select\n                  className={`form-select ${errors.zone_id ? \"is-invalid\" : \"\"}`}\n                  {...register(\"zone_id\", { required: \"Region/State is required\" })}\n                  disabled={!selectedCountryId || zonesLoading}\n                >\n                  <option value=\"\">\n                    {zonesLoading ? \"Loading...\" : \"--- Please Select ---\"}\n                  </option>\n                  {zones.map((z) => (\n                    <option key={z.zone_id} value={String(z.zone_id)}>\n                      {z.name}\n                    </option>\n                  ))}\n                </select>\n\n                {!zonesLoading && selectedCountryId && zones.length === 0 ? (\n                  <div className=\"text-muted small mt-1\">\n                    No regions/states available for selected country.\n                  </div>\n                ) : null}\n              </Row>\n\n              <hr />\n\n              <Row label=\"Password\" required error={errors.password?.message}>\n                <input\n                  type=\"password\"\n                  className={`form-control ${errors.password ? \"is-invalid\" : \"\"}`}\n                  {...register(\"password\", {\n                    required: \"Password is required\",\n                    minLength: { value: 6, message: \"Minimum 6 characters\" },\n                    maxLength: { value: 20, message: \"Maximum 20 characters\" },\n                  })}\n                />\n              </Row>\n\n              <Row label=\"Password Confirm\" required error={errors.confirm?.message}>\n                <input\n                  type=\"password\"\n                  className={`form-control ${errors.confirm ? \"is-invalid\" : \"\"}`}\n                  {...register(\"confirm\", {\n                    required: \"Confirm password is required\",\n                    validate: (v) =>\n                      v === getValues(\"password\") || \"Passwords do not match\",\n                  })}\n                />\n              </Row>\n\n              {/* Terms */}\n              <div className=\"row mb-2\">\n                <div className=\"col-12\">\n                  <div className=\"form-check\">\n                    <input\n                      id=\"agree_terms\"\n                      type=\"checkbox\"\n                      className={`form-check-input ${errors.agree_terms ? \"is-invalid\" : \"\"}`}\n                      {...register(\"agree_terms\", {\n                        validate: (v) => v === true || \"You must agree to the Terms & Conditions\",\n                      })}\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"agree_terms\">\n                      I agree to the{\" \"}\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-link p-0 align-baseline text-decoration-underline\"\n                        onClick={handleOpenTerms}\n                      >\n                        Terms &amp; Conditions\n                      </button>\n                    </label>\n                    {errors.agree_terms ? (\n                      <div className=\"invalid-feedback d-block\">\n                        {errors.agree_terms.message}\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : null}\n\n          {/* Footer Buttons */}\n          <div className=\"d-flex justify-content-between mt-4\">\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-secondary\"\n              onClick={() => {\n                setServerErr(null);\n                setServerMsg(null);\n                setStep((s) => Math.max(1, s - 1));\n              }}\n              disabled={step === 1 || isSubmitting}\n            >\n              ← Back\n            </button>\n\n            {step === 1 ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-dark\"\n                onClick={onNextStep1}\n                disabled={isSubmitting}\n              >\n                Next →\n              </button>\n            ) : null}\n\n            {step === 2 ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-dark\"\n                onClick={onNextStep2}\n                disabled={isSubmitting || !canProceedStep2}\n              >\n                {domainChecking ? \"Checking domain...\" : \"Next →\"}\n              </button>\n            ) : null}\n\n            {step === 3 ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={onFinishStep3}\n                disabled={isSubmitting}\n              >\n                Finish &amp; Go To Payment →\n              </button>\n            ) : null}\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}