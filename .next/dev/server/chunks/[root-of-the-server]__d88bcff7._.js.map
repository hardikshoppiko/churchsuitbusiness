{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/lib/db.js"],"sourcesContent":["import mysql from \"mysql2/promise\";\n\nexport const db = mysql.createPool({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: Number(process.env.DB_PORT || 3306),\n  waitForConnections: true,\n  connectionLimit: 10,\n});"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,KAAK,8IAAK,CAAC,UAAU,CAAC;IACjC,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,UAAU,QAAQ,GAAG,CAAC,WAAW;IACjC,UAAU,QAAQ,GAAG,CAAC,OAAO;IAC7B,MAAM,OAAO,QAAQ,GAAG,CAAC,OAAO,IAAI;IACpC,oBAAoB;IACpB,iBAAiB;AACnB"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/lib/geo.js"],"sourcesContent":["import { db } from \"@/lib/db\";\n\nexport async function getCountries() {\n  const [rows] = await db.query(\n    \"SELECT country_id, name FROM country ORDER BY name ASC\"\n  );\n\n  return rows.map((r) => ({\n    country_id: Number(r.country_id),\n    name: r.name,\n  }));\n}\n\nexport async function getZonesByCountryId(country_id) {\n  const [rows] = await db.query(\n    \"SELECT zone_id, country_id, name FROM zone WHERE country_id = ? ORDER BY name ASC\",\n    [Number(country_id)]\n  );\n\n  return rows.map((r) => ({\n    zone_id: Number(r.zone_id),\n    country_id: Number(r.country_id),\n    name: r.name,\n  }));\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,CAAC,KAAK,GAAG,MAAM,wHAAE,CAAC,KAAK,CAC3B;IAGF,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;YACtB,YAAY,OAAO,EAAE,UAAU;YAC/B,MAAM,EAAE,IAAI;QACd,CAAC;AACH;AAEO,eAAe,oBAAoB,UAAU;IAClD,MAAM,CAAC,KAAK,GAAG,MAAM,wHAAE,CAAC,KAAK,CAC3B,qFACA;QAAC,OAAO;KAAY;IAGtB,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;YACtB,SAAS,OAAO,EAAE,OAAO;YACzB,YAAY,OAAO,EAAE,UAAU;YAC/B,MAAM,EAAE,IAAI;QACd,CAAC;AACH"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/apcrat/Documents/react/church_suit_business/affiliates/src/app/api/geo/zones/route.js"],"sourcesContent":["import { getZonesByCountryId } from \"@/lib/geo\";\n\nexport async function GET(request) {\n  const { searchParams } = new URL(request.url);\n  const country_id = searchParams.get(\"country_id\");\n\n  if (!country_id) {\n    return Response.json({ message: \"country_id is required\" }, { status: 400 });\n  }\n\n  const zones = await getZonesByCountryId(country_id);\n  return Response.json({ zones });\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAO;IAC/B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,aAAa,aAAa,GAAG,CAAC;IAEpC,IAAI,CAAC,YAAY;QACf,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC5E;IAEA,MAAM,QAAQ,MAAM,IAAA,0IAAmB,EAAC;IACxC,OAAO,SAAS,IAAI,CAAC;QAAE;IAAM;AAC/B"}}]
}