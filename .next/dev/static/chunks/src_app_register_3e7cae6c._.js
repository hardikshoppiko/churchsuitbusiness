(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/src/app/register/TermsContent.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>TermsContent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
;
function TermsContent() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "small",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mb-2",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("b", {
                    children: "Terms & Conditions"
                }, void 0, false, {
                    fileName: "[project]/src/app/register/TermsContent.js",
                    lineNumber: 5,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/app/register/TermsContent.js",
                lineNumber: 4,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mb-2",
                children: "By creating an affiliate store, you agree to follow our program rules, pricing policies, and acceptable use requirements."
            }, void 0, false, {
                fileName: "[project]/src/app/register/TermsContent.js",
                lineNumber: 7,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                className: "mb-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                        children: "No misuse of brand assets."
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/TermsContent.js",
                        lineNumber: 12,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                        children: "No spam marketing or misleading claims."
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/TermsContent.js",
                        lineNumber: 13,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                        children: "Payments are subscription-based and must remain active."
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/TermsContent.js",
                        lineNumber: 14,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/register/TermsContent.js",
                lineNumber: 11,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mb-0",
                children: "For full details, contact support if needed."
            }, void 0, false, {
                fileName: "[project]/src/app/register/TermsContent.js",
                lineNumber: 16,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/register/TermsContent.js",
        lineNumber: 3,
        columnNumber: 5
    }, this);
}
_c = TermsContent;
var _c;
__turbopack_context__.k.register(_c, "TermsContent");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/app/register/RegisterWizardForm.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>RegisterWizardForm
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hook-form/dist/index.esm.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$modal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/modal.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$register$2f$TermsContent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/app/register/TermsContent.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
function money(amount) {
    try {
        return new Intl.NumberFormat("en-US", {
            style: "currency",
            currency: "USD"
        }).format(Number(amount || 0));
    } catch  {
        return `$${Number(amount || 0).toFixed(2)}`;
    }
}
function Row({ label, required, error, children }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "row mb-3 align-items-center",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "col-sm-4 col-lg-3 col-form-label",
                children: [
                    required ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-danger",
                        children: "*"
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 25,
                        columnNumber: 21
                    }, this) : null,
                    " ",
                    label
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                lineNumber: 24,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "col-sm-8 col-lg-9",
                children: [
                    children,
                    error ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "invalid-feedback d-block",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 29,
                        columnNumber: 18
                    }, this) : null
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                lineNumber: 27,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/register/RegisterWizardForm.js",
        lineNumber: 23,
        columnNumber: 5
    }, this);
}
_c = Row;
function handleOpenTerms() {
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$modal$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["openModal"])({
        title: "Terms & Conditions",
        size: "lg",
        content: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$register$2f$TermsContent$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
            fileName: "[project]/src/app/register/RegisterWizardForm.js",
            lineNumber: 39,
            columnNumber: 14
        }, this)
    });
}
/* ================================
   Wizard LocalStorage helpers
================================ */ const LS_KEY = "affiliate_register_wizard_v1";
function safeJsonParse(v) {
    try {
        return JSON.parse(v);
    } catch  {
        return null;
    }
}
function loadWizard() {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    return safeJsonParse(localStorage.getItem(LS_KEY));
}
function saveWizard(data) {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    localStorage.setItem(LS_KEY, JSON.stringify(data));
}
function clearWizard() {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    localStorage.removeItem(LS_KEY);
}
function RegisterWizardForm({ plans = [], countries = [], defaultCountryId = 0, defaultZoneId = 0 }) {
    _s();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const [step, setStep] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(1); // 1,2,3
    const [affiliateId, setAffiliateId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [serverMsg, setServerMsg] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [serverErr, setServerErr] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [zones, setZones] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [zonesLoading, setZonesLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [domainInfo, setDomainInfo] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [domainChecking, setDomainChecking] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [ownDomainChecked, setOwnDomainChecked] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isRestored, setIsRestored] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const defaultPlanId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "RegisterWizardForm.useMemo[defaultPlanId]": ()=>{
            return plans?.[0]?.affiliate_plan_id ? String(plans[0].affiliate_plan_id) : "";
        }
    }["RegisterWizardForm.useMemo[defaultPlanId]"], [
        plans
    ]);
    const { register, handleSubmit, setValue, getValues, watch, trigger, reset, formState: { errors, isSubmitting } } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useForm"])({
        defaultValues: {
            // step 2
            affiliate_plan_id: defaultPlanId,
            business_name: "",
            website: "",
            is_customer_own_domain: 0,
            is_domain_available: 0,
            is_domain_avaibility_checked: 0,
            // step 1
            firstname: "",
            lastname: "",
            email: "",
            telephone: "",
            // step 3
            address_1: "",
            address_2: "",
            city: "",
            postcode: "",
            country_id: defaultCountryId ? String(defaultCountryId) : "",
            zone_id: defaultZoneId ? String(defaultZoneId) : "",
            password: "",
            confirm: "",
            agree_terms: true
        }
    });
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "RegisterWizardForm.useEffect": ()=>{
            const saved = loadWizard();
            if (!saved) {
                setIsRestored(true);
                return;
            }
            if (saved.affiliateId) setAffiliateId(saved.affiliateId);
            if (saved.step) setStep(saved.step);
            if (saved.values) {
                reset({
                    ...getValues(),
                    ...saved.values
                });
            }
            setIsRestored(true);
        // eslint-disable-next-line react-hooks/exhaustive-deps
        }
    }["RegisterWizardForm.useEffect"], []);
    const allValues = watch();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "RegisterWizardForm.useEffect": ()=>{
            // prevent saving before initial hydration
            if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
            ;
            saveWizard({
                step,
                affiliateId,
                values: allValues,
                savedAt: Date.now()
            });
        }
    }["RegisterWizardForm.useEffect"], [
        allValues,
        step,
        affiliateId
    ]);
    const selectedCountryId = watch("country_id");
    const selectedPlanId = watch("affiliate_plan_id");
    // ---------- Zones loader ----------
    async function fetchZones(country_id, keepZoneId) {
        if (!country_id) {
            setZones([]);
            setValue("zone_id", "");
            return;
        }
        setZonesLoading(true);
        try {
            const res = await fetch(`/api/geo/zones?country_id=${country_id}`, {
                cache: "no-store"
            });
            const data = await res.json().catch(()=>({}));
            const list = Array.isArray(data?.zones) ? data.zones : [];
            setZones(list);
            if (keepZoneId) {
                const ok = list.some((z)=>String(z.zone_id) === String(keepZoneId));
                if (ok) {
                    setValue("zone_id", String(keepZoneId));
                    return;
                }
            }
            // only clear if no valid keepZoneId
            setValue("zone_id", "");
        } finally{
            setZonesLoading(false);
        }
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "RegisterWizardForm.useEffect": ()=>{
            // load zones for defaults (only helpful for step 3)
            if (defaultCountryId) {
                fetchZones(String(defaultCountryId), defaultZoneId ? String(defaultZoneId) : "");
            }
        // eslint-disable-next-line react-hooks/exhaustive-deps
        }
    }["RegisterWizardForm.useEffect"], []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "RegisterWizardForm.useEffect": ()=>{
            if (!isRestored) return;
            if (!selectedCountryId) {
                setZones([]);
                setValue("zone_id", "");
                return;
            }
            // ✅ keep the zone_id that is already in the form (from localStorage after refresh)
            const keepZoneId = String(getValues("zone_id") || "");
            fetchZones(String(selectedCountryId), keepZoneId);
        // eslint-disable-next-line react-hooks/exhaustive-deps
        }
    }["RegisterWizardForm.useEffect"], [
        selectedCountryId,
        isRestored
    ]);
    // ---------- Persist affiliateId (optional but useful) ----------
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "RegisterWizardForm.useEffect": ()=>{
            try {
                const saved = localStorage.getItem("affiliate_register_id");
                if (saved && !affiliateId) setAffiliateId(Number(saved));
            } catch  {}
        }
    }["RegisterWizardForm.useEffect"], [
        affiliateId
    ]);
    function saveAffiliateId(id) {
        setAffiliateId(Number(id));
        try {
            localStorage.setItem("affiliate_register_id", String(id));
        } catch  {}
    }
    function clearAffiliateIdCache() {
        try {
            localStorage.removeItem("affiliate_register_id");
        } catch  {}
    }
    // ---------- Helpers ----------
    function getSelectedPlanInfo() {
        const pid = Number(getValues("affiliate_plan_id") || 0);
        return plans.find((p)=>Number(p.affiliate_plan_id) === pid) || null;
    }
    async function checkDomainAvaibilityStatus(domainParam) {
        const website = String(domainParam ?? getValues("website") ?? "").trim();
        if (!website) return;
        // reset flags each time user checks
        setDomainChecking(true);
        setOwnDomainChecked(false);
        setDomainInfo(null);
        // mark "checked" immediately (like PHP does)
        setValue("is_domain_avaibility_checked", 1);
        setValue("is_customer_own_domain", 0);
        try {
            const res = await fetch(`/api/affiliate/register`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                cache: "no-store",
                body: JSON.stringify({
                    step: 2,
                    action: "check_domain",
                    domain_name: website
                })
            });
            const data = await res.json().catch(()=>({}));
            // default like PHP
            setValue("is_domain_available", 1);
            // if error + domain not available → mark unavailable
            if (data?.error && data?.domain_not_available) {
                setValue("is_domain_available", 0);
            }
            setDomainInfo(data);
        } catch (e) {
            setDomainInfo({
                error: "Domain check failed. Please try again."
            });
            setValue("is_domain_available", 0);
        } finally{
            setDomainChecking(false);
        }
    }
    // click suggestion
    function chooseSuggestedDomain(d) {
        const domain = String(d || "").trim();
        if (!domain) return;
        setValue("website", domain, {
            shouldValidate: true,
            shouldDirty: true
        });
        setDomainInfo(null);
        // IMPORTANT: call checker with the domain itself (not reading old getValues)
        checkDomainAvaibilityStatus(domain);
    }
    // own domain checkbox
    function onOwnDomainToggle(checked) {
        const v = !!checked;
        setOwnDomainChecked(v);
        setValue("is_domain_avaibility_checked", 1);
        if (v) {
            setValue("is_customer_own_domain", 1);
            setValue("is_domain_available", 1);
            // mimic PHP: remove suggestions/messages
            setDomainInfo(null);
        } else {
            setValue("is_customer_own_domain", 0);
        }
    }
    async function postRegister(payload) {
        const res = await fetch(`/api/affiliate/register`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(payload),
            cache: "no-store"
        });
        const data = await res.json().catch(()=>({}));
        return {
            res,
            data
        };
    }
    // ---------- Step Actions ----------
    async function onNextStep1() {
        setServerMsg(null);
        setServerErr(null);
        // validate step1 fields
        const ok = await trigger([
            "firstname",
            "lastname",
            "email",
            "telephone"
        ]);
        if (!ok) return;
        // ✅ If affiliate already created, DO NOT re-create
        if (affiliateId && Number(affiliateId) > 0) {
            // Optional: if you want to update step1 fields on existing record
            const payload = {
                step: 1,
                affiliate_id: affiliateId,
                firstname: getValues("firstname"),
                lastname: getValues("lastname"),
                email: getValues("email"),
                telephone: getValues("telephone")
            };
            const { res, data } = await postRegister(payload);
            if (!res.ok) {
                setServerErr(data?.message || "Step 1 update failed. Please try again.");
                return;
            }
            setServerMsg("Step 1 updated successfully.");
            setStep(2);
            return;
        }
        // ✅ First time only: create new affiliate (insert)
        const payload = {
            step: 1,
            firstname: getValues("firstname"),
            lastname: getValues("lastname"),
            email: getValues("email"),
            telephone: getValues("telephone")
        };
        const { res, data } = await postRegister(payload);
        if (!res.ok || !data?.affiliate_id) {
            setServerErr(data?.message || "Step 1 failed. Please try again.");
            return;
        }
        saveAffiliateId(data.affiliate_id);
        setServerMsg("Step 1 saved successfully.");
        setStep(2);
    }
    async function onNextStep2() {
        setServerMsg(null);
        setServerErr(null);
        if (!affiliateId) {
            setServerErr("Affiliate ID missing. Please complete Step 1 again.");
            setStep(1);
            return;
        }
        const ok = await trigger([
            "affiliate_plan_id",
            "business_name",
            "website"
        ]);
        if (!ok) return;
        const plan = getSelectedPlanInfo();
        // Build the same payload style you already use
        const payload = {
            step: 2,
            affiliate_id: affiliateId,
            affiliate_plan_id: getValues("affiliate_plan_id"),
            affiliate_type: getValues("affiliate_plan_id"),
            store_name: getValues("business_name"),
            business_name: getValues("business_name"),
            is_customer_own_domain: Number(getValues("is_customer_own_domain") || 0),
            is_domain_available: Number(getValues("is_domain_available") || 0),
            is_domain_avaibility_checked: Number(getValues("is_domain_avaibility_checked") || 0),
            // vanity url: https://www. + domain
            website: getValues("website") ? `https://www.${getValues("website")}` : "",
            // plan-related data you pass today
            fees: plan?.fees || 0,
            stripe_plan_id: plan?.stripe_plan_id || "",
            price_schema: plan?.price_schema || "",
            default_markup: plan?.default_markup || 0,
            retail_price_commission: plan?.retail_price_commission || 0,
            is_catalog_access: plan?.is_catalog_access || 0,
            // keep same defaults
            from_email: "",
            fax: "",
            company: "",
            stripe_token: "",
            stripe_customer_id: "",
            recurring_billing: "",
            recurring_billing_id: "",
            store_category_type: 0,
            commission: 0,
            tax: "",
            payment: "",
            cheque: "",
            paypal: "",
            bank_name: "",
            bank_branch_number: "",
            bank_swift_code: "",
            bank_account_name: "",
            bank_account_number: "",
            ip: "",
            status: 0,
            newsletter: 1,
            newsletter_text: 0,
            affiliate_status_id: 1,
            approved: 0,
            stop_automation: 0,
            user_added: 0,
            user_modified: 0,
            is_delete: 0
        };
        const { res, data } = await postRegister(payload);
        if (!res.ok) {
            setServerErr(data?.message || "Step 2 failed. Please try again.");
            return;
        }
        setServerMsg("Step 2 saved successfully.");
        setStep(3);
    }
    async function onFinishStep3() {
        setServerMsg(null);
        setServerErr(null);
        if (!affiliateId) {
            setServerErr("Affiliate ID missing. Please complete Step 1 again.");
            setStep(1);
            return;
        }
        const ok = await trigger([
            "address_1",
            "city",
            "postcode",
            "country_id",
            "zone_id",
            "password",
            "confirm",
            "agree_terms"
        ]);
        if (!ok) return;
        const payload = {
            step: 3,
            affiliate_id: affiliateId,
            address_1: getValues("address_1"),
            address_2: getValues("address_2"),
            city: getValues("city"),
            postcode: getValues("postcode"),
            country_id: getValues("country_id"),
            zone_id: getValues("zone_id"),
            password: getValues("password"),
            confirm: getValues("confirm"),
            agree_terms: getValues("agree_terms")
        };
        const { res, data } = await postRegister(payload);
        if (!res.ok) {
            setServerErr(data?.message || "Step 3 failed. Please try again.");
            return;
        }
        setServerMsg("Registration completed. Redirecting to payment...");
        // clearAffiliateIdCache();
        clearWizard();
        router.push(`/register/payment/${affiliateId}`);
    }
    // ---------- UI ----------
    const stepTitle = step === 1 ? "Personal Information" : step === 2 ? "Plan & Business" : "Store Address & Password";
    // Check if can proceed to step 2
    const websiteValue = String(getValues("website") || "").trim();
    const domainChecked = Number(watch("is_domain_avaibility_checked") || 0) === 1;
    const domainAvailable = Number(watch("is_domain_available") || 0) === 1;
    const ownDomain = Number(watch("is_customer_own_domain") || 0) === 1;
    // ✅ Only hidden fields decide the button enable/disable
    const canProceedStep2 = !!websiteValue && domainChecked && (domainAvailable || ownDomain) && !domainChecking;
    /* END ADD */ return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "card",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "card-header bg-white",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "d-flex align-items-center justify-content-between flex-wrap gap-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "fw-bold",
                                children: stepTitle
                            }, void 0, false, {
                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                lineNumber: 550,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "small text-muted",
                                children: [
                                    "Step ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("strong", {
                                        children: step
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 553,
                                        columnNumber: 18
                                    }, this),
                                    " of ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("strong", {
                                        children: "3"
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 553,
                                        columnNumber: 45
                                    }, this),
                                    affiliateId ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "ms-2",
                                        children: [
                                            "| Affiliate ID: ",
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("strong", {
                                                children: affiliateId
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 556,
                                                columnNumber: 33
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 555,
                                        columnNumber: 15
                                    }, this) : null
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                lineNumber: 552,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 549,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "progress mt-3",
                        style: {
                            height: 8
                        },
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "progress-bar",
                            role: "progressbar",
                            style: {
                                width: `${step / 3 * 100}%`
                            },
                            "aria-valuenow": step / 3 * 100,
                            "aria-valuemin": "0",
                            "aria-valuemax": "100"
                        }, void 0, false, {
                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                            lineNumber: 564,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 563,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                lineNumber: 548,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "card-body",
                children: [
                    serverErr ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "alert alert-danger",
                        children: serverErr
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 576,
                        columnNumber: 22
                    }, this) : null,
                    serverMsg ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "alert alert-success",
                        children: serverMsg
                    }, void 0, false, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 577,
                        columnNumber: 22
                    }, this) : null,
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
                        onSubmit: (e)=>e.preventDefault(),
                        children: [
                            step === 1 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "First Name",
                                        required: true,
                                        error: errors.firstname?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.firstname ? "is-invalid" : ""}`,
                                            ...register("firstname", {
                                                required: "First name is required",
                                                minLength: {
                                                    value: 1,
                                                    message: "Min 1 character"
                                                },
                                                maxLength: {
                                                    value: 32,
                                                    message: "Max 32 characters"
                                                }
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 587,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 586,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Last Name",
                                        required: true,
                                        error: errors.lastname?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.lastname ? "is-invalid" : ""}`,
                                            ...register("lastname", {
                                                required: "Last name is required",
                                                minLength: {
                                                    value: 1,
                                                    message: "Min 1 character"
                                                },
                                                maxLength: {
                                                    value: 32,
                                                    message: "Max 32 characters"
                                                }
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 598,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 597,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Email",
                                        required: true,
                                        error: errors.email?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "email",
                                            className: `form-control ${errors.email ? "is-invalid" : ""}`,
                                            ...register("email", {
                                                required: "Email is required",
                                                pattern: {
                                                    value: /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,
                                                    message: "Please enter a valid email address"
                                                }
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 609,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 608,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Phone / Mobile",
                                        required: true,
                                        error: errors.telephone?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            inputMode: "numeric",
                                            placeholder: "10 digit mobile number",
                                            className: `form-control ${errors.telephone ? "is-invalid" : ""}`,
                                            ...register("telephone", {
                                                required: "Phone/Mobile is required",
                                                pattern: {
                                                    value: /^\d{10}$/,
                                                    message: "Phone/Mobile must be exactly 10 digits"
                                                }
                                            }),
                                            onInput: (e)=>{
                                                e.target.value = e.target.value.replace(/\D/g, "").slice(0, 10);
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 623,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 622,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true) : null,
                            step === 2 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "mb-3",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "fw-bold mb-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-danger me-1",
                                                        children: "*"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 649,
                                                        columnNumber: 19
                                                    }, this),
                                                    "Select Your Plan"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 648,
                                                columnNumber: 17
                                            }, this),
                                            plans.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "text-muted",
                                                children: "No plans available right now."
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 653,
                                                columnNumber: 19
                                            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "d-flex flex-column gap-2",
                                                children: plans.map((p)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "d-flex align-items-start gap-2 border rounded p-3 plan-row",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                type: "radio",
                                                                className: "form-check-input mt-1",
                                                                value: String(p.affiliate_plan_id),
                                                                ...register("affiliate_plan_id", {
                                                                    required: "Please select a plan"
                                                                })
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                lineNumber: 661,
                                                                columnNumber: 25
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex-grow-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "fw-semibold",
                                                                        children: [
                                                                            p.name,
                                                                            " ",
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                className: "text-muted",
                                                                                children: [
                                                                                    "(",
                                                                                    money(p.fees),
                                                                                    " / Month)"
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                                lineNumber: 673,
                                                                                columnNumber: 29
                                                                            }, this)
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                        lineNumber: 671,
                                                                        columnNumber: 27
                                                                    }, this),
                                                                    p.tag_line ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "text-muted small",
                                                                        children: p.tag_line
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                        lineNumber: 678,
                                                                        columnNumber: 29
                                                                    }, this) : null
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                lineNumber: 670,
                                                                columnNumber: 25
                                                            }, this)
                                                        ]
                                                    }, p.affiliate_plan_id, true, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 657,
                                                        columnNumber: 23
                                                    }, this))
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 655,
                                                columnNumber: 19
                                            }, this),
                                            errors.affiliate_plan_id ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "text-danger small mt-2",
                                                children: errors.affiliate_plan_id.message
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 687,
                                                columnNumber: 19
                                            }, this) : null
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 647,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("hr", {}, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 693,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Business Name",
                                        required: true,
                                        error: errors.business_name?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.business_name ? "is-invalid" : ""}`,
                                            ...register("business_name", {
                                                required: "Business name is required",
                                                minLength: {
                                                    value: 3,
                                                    message: "Min 3 characters"
                                                },
                                                maxLength: {
                                                    value: 32,
                                                    message: "Max 32 characters"
                                                }
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 696,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 695,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Website",
                                        error: errors.website?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            id: "input-website-section",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "input-group",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "input-group-text",
                                                            children: "https://www."
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 709,
                                                            columnNumber: 21
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                            className: `form-control ${errors.website ? "is-invalid" : ""}`,
                                                            placeholder: "yourdomain.com",
                                                            ...register("website", {
                                                                validate: (v)=>{
                                                                    if (!v) return true;
                                                                    if (/\s/.test(v)) return "Website cannot contain spaces";
                                                                    if (v.startsWith("http://") || v.startsWith("https://") || v.startsWith("www.")) {
                                                                        return "Do not include https:// or www";
                                                                    }
                                                                    return /^[a-z0-9.-]+\.[a-z]{2,}$/i.test(v) || "Enter a valid domain like yourdomain.com";
                                                                }
                                                            }),
                                                            onBlur: ()=>{
                                                                const v = String(getValues("website") || "").trim();
                                                                if (!v) return;
                                                                // only hit API if looks like a domain
                                                                const ok = /^[a-z0-9.-]+\.[a-z]{2,}$/i.test(v) && !/\s/.test(v);
                                                                if (ok) checkDomainAvaibilityStatus(v);
                                                            }
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 710,
                                                            columnNumber: 21
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 708,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                    type: "hidden",
                                                    ...register("is_customer_own_domain")
                                                }, void 0, false, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 735,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                    type: "hidden",
                                                    ...register("is_domain_available")
                                                }, void 0, false, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 736,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                    type: "hidden",
                                                    ...register("is_domain_avaibility_checked")
                                                }, void 0, false, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 737,
                                                    columnNumber: 19
                                                }, this),
                                                domainChecking ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "small text-muted mt-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("i", {
                                                            className: "fa fa-spinner fa-spin me-1"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 741,
                                                            columnNumber: 23
                                                        }, this),
                                                        " Please wait… checking domain availability."
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 740,
                                                    columnNumber: 21
                                                }, this) : null,
                                                domainInfo?.error && domainInfo?.domain_not_available ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "mt-2",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "text-danger fw-semibold",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("i", {
                                                                className: "bi bi-exclamation-triangle me-1"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                lineNumber: 749,
                                                                columnNumber: 25
                                                            }, this),
                                                            domainInfo.error
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 748,
                                                        columnNumber: 23
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 747,
                                                    columnNumber: 21
                                                }, this) : null,
                                                domainInfo?.success && domainInfo?.domain_found ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "mt-2 text-success fw-semibold",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("i", {
                                                            className: "bi bi-check-circle me-1"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 757,
                                                            columnNumber: 23
                                                        }, this),
                                                        domainInfo.domain_found
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 756,
                                                    columnNumber: 21
                                                }, this) : null,
                                                Array.isArray(domainInfo?.domain_suggestions) && domainInfo.domain_suggestions.length > 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "mt-3",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "form-check mb-2",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                    id: "input-business-own-domain",
                                                                    className: "form-check-input",
                                                                    type: "checkbox",
                                                                    onChange: (e)=>onOwnDomainToggle(e.target.checked)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                    lineNumber: 766,
                                                                    columnNumber: 25
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                    className: "form-check-label fw-semibold",
                                                                    htmlFor: "input-business-own-domain",
                                                                    children: "Do You Own Above Domain Name?"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                    lineNumber: 772,
                                                                    columnNumber: 25
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 765,
                                                            columnNumber: 23
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "fw-semibold mb-2",
                                                            children: "Available Domains"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 777,
                                                            columnNumber: 23
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "d-flex flex-wrap gap-2",
                                                            children: domainInfo.domain_suggestions.slice(0, 6).map((d)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                    type: "button",
                                                                    className: "btn btn-link p-0 text-decoration-underline",
                                                                    onClick: ()=>chooseSuggestedDomain(d),
                                                                    children: d
                                                                }, d, false, {
                                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                    lineNumber: 780,
                                                                    columnNumber: 27
                                                                }, this))
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 778,
                                                            columnNumber: 23
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 764,
                                                    columnNumber: 21
                                                }, this) : null
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 707,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 706,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "alert alert-info mb-0",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "fw-semibold",
                                                children: "Selected Plan"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 796,
                                                columnNumber: 17
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "small",
                                                children: (()=>{
                                                    const plan = plans.find((p)=>String(p.affiliate_plan_id) === String(selectedPlanId));
                                                    if (!plan) return "No plan selected";
                                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                                        children: [
                                                            plan.name,
                                                            " — ",
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("strong", {
                                                                children: money(plan.fees)
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                lineNumber: 805,
                                                                columnNumber: 39
                                                            }, this),
                                                            " / month"
                                                        ]
                                                    }, void 0, true);
                                                })()
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 797,
                                                columnNumber: 17
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 795,
                                        columnNumber: 15
                                    }, this),
                                    !canProceedStep2 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "text-muted small mt-2",
                                        children: "Please check your domain availability (or confirm you own the domain) to continue."
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 814,
                                        columnNumber: 17
                                    }, this) : null
                                ]
                            }, void 0, true) : null,
                            step === 3 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Address 1",
                                        required: true,
                                        error: errors.address_1?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.address_1 ? "is-invalid" : ""}`,
                                            ...register("address_1", {
                                                required: "Address 1 is required"
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 827,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 826,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Address 2",
                                        error: errors.address_2?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: "form-control",
                                            ...register("address_2")
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 834,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 833,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "City",
                                        required: true,
                                        error: errors.city?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.city ? "is-invalid" : ""}`,
                                            ...register("city", {
                                                required: "City is required"
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 838,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 837,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Zip Code",
                                        required: true,
                                        error: errors.postcode?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            className: `form-control ${errors.postcode ? "is-invalid" : ""}`,
                                            ...register("postcode", {
                                                required: "Zip code is required"
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 845,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 844,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Country",
                                        required: true,
                                        error: errors.country_id?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                            className: `form-select ${errors.country_id ? "is-invalid" : ""}`,
                                            ...register("country_id", {
                                                required: "Country is required"
                                            }),
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                    value: "",
                                                    children: "--- Please Select ---"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                    lineNumber: 856,
                                                    columnNumber: 19
                                                }, this),
                                                countries.map((c)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: String(c.country_id),
                                                        children: c.name
                                                    }, c.country_id, false, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 858,
                                                        columnNumber: 21
                                                    }, this))
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 852,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 851,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Region / State",
                                        required: true,
                                        error: errors.zone_id?.message,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                className: `form-select ${errors.zone_id ? "is-invalid" : ""}`,
                                                ...register("zone_id", {
                                                    required: "Region/State is required"
                                                }),
                                                disabled: !selectedCountryId || zonesLoading,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "",
                                                        children: zonesLoading ? "Loading..." : "--- Please Select ---"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 871,
                                                        columnNumber: 19
                                                    }, this),
                                                    zones.map((z)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: String(z.zone_id),
                                                            children: z.name
                                                        }, z.zone_id, false, {
                                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                            lineNumber: 875,
                                                            columnNumber: 21
                                                        }, this))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 866,
                                                columnNumber: 17
                                            }, this),
                                            !zonesLoading && selectedCountryId && zones.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "text-muted small mt-1",
                                                children: "No regions/states available for selected country."
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 882,
                                                columnNumber: 19
                                            }, this) : null
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 865,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("hr", {}, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 888,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Password",
                                        required: true,
                                        error: errors.password?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "password",
                                            className: `form-control ${errors.password ? "is-invalid" : ""}`,
                                            ...register("password", {
                                                required: "Password is required",
                                                minLength: {
                                                    value: 6,
                                                    message: "Minimum 6 characters"
                                                },
                                                maxLength: {
                                                    value: 20,
                                                    message: "Maximum 20 characters"
                                                }
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 891,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 890,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Row, {
                                        label: "Password Confirm",
                                        required: true,
                                        error: errors.confirm?.message,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "password",
                                            className: `form-control ${errors.confirm ? "is-invalid" : ""}`,
                                            ...register("confirm", {
                                                required: "Confirm password is required",
                                                validate: (v)=>v === getValues("password") || "Passwords do not match"
                                            })
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 903,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 902,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "row mb-2",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "col-12",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "form-check",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                        id: "agree_terms",
                                                        type: "checkbox",
                                                        className: `form-check-input ${errors.agree_terms ? "is-invalid" : ""}`,
                                                        ...register("agree_terms", {
                                                            validate: (v)=>v === true || "You must agree to the Terms & Conditions"
                                                        })
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 918,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "form-check-label",
                                                        htmlFor: "agree_terms",
                                                        children: [
                                                            "I agree to the",
                                                            " ",
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                type: "button",
                                                                className: "btn btn-link p-0 align-baseline text-decoration-underline",
                                                                onClick: handleOpenTerms,
                                                                children: "Terms & Conditions"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                                lineNumber: 928,
                                                                columnNumber: 23
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 926,
                                                        columnNumber: 21
                                                    }, this),
                                                    errors.agree_terms ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "invalid-feedback d-block",
                                                        children: errors.agree_terms.message
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                        lineNumber: 937,
                                                        columnNumber: 23
                                                    }, this) : null
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                                lineNumber: 917,
                                                columnNumber: 19
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                            lineNumber: 916,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 915,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true) : null,
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "d-flex justify-content-between mt-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        className: "btn btn-outline-secondary",
                                        onClick: ()=>{
                                            setServerErr(null);
                                            setServerMsg(null);
                                            setStep((s)=>Math.max(1, s - 1));
                                        },
                                        disabled: step === 1 || isSubmitting,
                                        children: "← Back"
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 949,
                                        columnNumber: 13
                                    }, this),
                                    step === 1 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        className: "btn btn-dark",
                                        onClick: onNextStep1,
                                        disabled: isSubmitting,
                                        children: "Next →"
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 963,
                                        columnNumber: 15
                                    }, this) : null,
                                    step === 2 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        className: "btn btn-dark",
                                        onClick: onNextStep2,
                                        disabled: isSubmitting || !canProceedStep2,
                                        children: domainChecking ? "Checking domain..." : "Next →"
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 974,
                                        columnNumber: 15
                                    }, this) : null,
                                    step === 3 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        className: "btn btn-primary",
                                        onClick: onFinishStep3,
                                        disabled: isSubmitting,
                                        children: "Finish & Go To Payment →"
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                        lineNumber: 985,
                                        columnNumber: 15
                                    }, this) : null
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                                lineNumber: 948,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/register/RegisterWizardForm.js",
                        lineNumber: 580,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/register/RegisterWizardForm.js",
                lineNumber: 575,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/register/RegisterWizardForm.js",
        lineNumber: 547,
        columnNumber: 5
    }, this);
}
_s(RegisterWizardForm, "dRM3YS4HK7nWZq/uI93ZFZgO6q0=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useForm"]
    ];
});
_c1 = RegisterWizardForm;
var _c, _c1;
__turbopack_context__.k.register(_c, "Row");
__turbopack_context__.k.register(_c1, "RegisterWizardForm");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=src_app_register_3e7cae6c._.js.map